{"version":3,"file":"ig_helper.min.js","sources":["../src/collection_helper.js","../node_modules/ig_markerfactory/dist/markerfactory.es6.js","../src/wicket_helper.js","../src/loadingcircle.js","../src/colorset.js","../src/ig_helper.js"],"sourcesContent":["import $ from 'jquery';\nimport _ from 'underscore';\n\n/**\n * Campos que no deben tomarse en cuenta a la hora de reconocer las características de un dataset\n * @type {Array}\n */\nvar blacklistedfields = [\n  'id',\n  'strokeOpacity',\n  'clickable',\n  'strokeWeight',\n  'fillOpacity',\n  'shape',\n  'The_Radio_google',\n  'the_geom_google',\n  'the_radio_google',\n  'geocoding_address',\n  'gm_accessors_',\n  'gm_bindings_',\n  'icon',\n  'position',\n  'lat_google',\n  'lon_google',\n  'weight',\n  'id_dataset',\n  'id_instagis',\n  'location',\n  'point',\n  'center',\n  'value',\n];\n\nvar CollectionUtils = function (DataSet) {\n  this.DataSet = DataSet;\n  this.DataSet.type = this.DataSet.type || this.DataSet.category;\n  return this;\n};\n\nCollectionUtils.prototype.addGeometricBoundaries = function () {\n  var element = this.DataSet,\n    html =\n      '<h5 for=\"boundaries_' + element.domid + '\">Filter By Boundaries</h5>';\n\n  html +=\n    '<div class=\"span11  boundariescontainer\" data-theproperty=\"boundaries\">';\n\n  html +=\n    '<select id=\"boundaries_' +\n    element.domid +\n    '\" class=\"boundaries small span11\">';\n  html += '<option value=\"0\">Any place</option>';\n  html += '<option value=\"1\">Within Visible Zone</option>';\n\n  globalvars.mapModel.Polygons.each(function (Polygon) {\n    html += _.template('<option value=\"{{id}}\">Within {{name}}</option>')(\n      Polygon.attributes\n    );\n  });\n\n  html += '</select>';\n  html += '</div>';\n  return html;\n};\n\n/**\n * Recorre una colección y devuelve sus campos\n * @param  {gmaps.FeatureCollection | gmaps.MVCArray | gmaps.Data} [DataSet] la colección a recorrer\n * si no se especifica, usará el DataSet asignado al instanciar.\n * @return {Object}    Los campos del Dataset\n */\nCollectionUtils.prototype.findFields = function (DataSet, callback) {\n  var _this = this;\n  var fields = {},\n    elemento;\n  if (!DataSet) {\n    DataSet = _this.DataSet;\n  }\n\n  if (!DataSet) {\n    return fields;\n  }\n  return new Promise(function (resolve, reject) {\n    if (\n      DataSet.fieldsFound !== true ||\n      DataSet.fields === undefined ||\n      _.isEmpty(DataSet.fields)\n    ) {\n      //console.info('getting fields for FeatureCollection');\n\n      elemento = _.uniq(\n        _.flatten(\n          _.map(DataSet.getArray(), function (item) {\n            var properties = item.getProperties\n              ? item.getProperties()\n              : item.properties;\n            var keys = _.keys(properties);\n            return keys;\n          })\n        ),\n        false\n      );\n\n      //console.zlog('field Keys', elemento);\n\n      var finalkeys = _.chain(elemento)\n        .reduce(function (memo, propiedad) {\n          memo[propiedad] = {\n            label: propiedad,\n            value: propiedad,\n          };\n          return memo;\n        }, {})\n        .omit(blacklistedfields)\n        .value();\n\n      //DataSet.fields = finalkeys;\n      /*_.each(finalkeys, function (attrs, fieldname) {\n\t\t\t\tconsole.zlog('fieldname', fieldname, attrs);\n\t\t\t\tconsole.zlog('Before DataSet.fields[', fieldname, ']', DataSet.fields, DataSet.fields[fieldname]);\n\t\t\t\tconsole.zlog('After DataSet.fields[', fieldname, ']', DataSet.fields, DataSet.fields[fieldname]);\n\t\t\t});*/\n\n      DataSet.fields = finalkeys;\n\n      //console.zlog('finalkeys Object', finalkeys, 'Datasetfields', DataSet.fields);\n\n      DataSet.fieldsFound = true;\n    }\n\n    if (DataSet.Model && DataSet.Model.columns) {\n      DataSet.Model.columns.each(function (column) {\n        DataSet.fields[column.get('nombre_fisico')] = {\n          value: column.get('nombre_fisico'),\n          label: column.get('alias'),\n        };\n      });\n    }\n\n    if (callback) {\n      callback(null, DataSet.fields);\n    }\n    resolve(DataSet.fields);\n  });\n};\n\n/**\n * Synchronous: Recorre una colección y devuelve sus campos no numéricos\n * @param  {gmaps.FeatureCollection | gmaps.MVCArray | gmaps.Data} [DataSet] la colección a recorrer\n * si no se especifica, usará el DataSet asignado al instanciar.\n * @return {Object}    Los campos no numéricos del Dataset\n */\nCollectionUtils.prototype.findQualityFields = function (DataSet) {\n  var _this = this;\n  var qualityfilters = {};\n  if (!DataSet) {\n    DataSet = _this.DataSet;\n  }\n  if (!DataSet.getArray || DataSet.getArray().length === 0) {\n    console.zwarn('empty dataset');\n    return qualityfilters;\n  }\n\n  _.each(DataSet.fields, function (propiedadObj, propiedad) {\n    //console.zlog(propiedadObj, propiedad); return;\n    if (propiedadObj && propiedadObj.value) {\n      var arraypropiedad = _.map(DataSet.getArray(), function (element) {\n        return element.get\n          ? element.get(propiedadObj.value)\n          : element[propiedadObj.value]; // || element['properties']['gse_preponderante'];\n      });\n\n      if (DataSet.backend_grouped) {\n        arraypropiedad = _.flatten(arraypropiedad);\n      }\n      var registros_numericos = _.filter(arraypropiedad, Number),\n        registros_totales = _.compact(arraypropiedad);\n\n      // si menos de la mitad de los registros son numéricos\n      if (registros_numericos.length < registros_totales.length / 2) {\n        /*console.zdebug('QUALITYFILTERS ES NO NUMERICO', {\n\t\t\t\t\t\tpropiedad: propiedadObj.value,\n\t\t\t\t\t\tregistros_numericos: registros_numericos,\n\t\t\t\t\t\tregistros_totales: registros_totales,\n\t\t\t\t\t\t//arraypropiedad: arraypropiedad,\n\t\t\t\t\t});*/\n\n        var data = _.map(_.groupBy(arraypropiedad), function (c, d) {\n          return {\n            name: d,\n            count: c.length,\n          };\n        });\n        qualityfilters[propiedad] = {\n          label: propiedadObj.label ? propiedadObj.label : propiedad,\n          value: propiedadObj.value ? propiedadObj.value : propiedad,\n          data: data,\n        };\n      } else {\n        //delete(DataSet.qualityfilters[propiedad]);\n        /*console.zdebug('QUALITYFILTERS ES NUMERICO', {\n\t\t\t\t\t\tpropiedad: propiedadObj.value,\n\t\t\t\t\t\tregistros_numericos: registros_numericos,\n\t\t\t\t\t\tregistros_totales: registros_totales,\n\t\t\t\t\t\t//arraypropiedad: arraypropiedad,\n\t\t\t\t\t});*/\n      }\n    }\n  });\n  DataSet.qualityfilters = qualityfilters;\n  //console.zdebug('DataSet qualityfilters are', qualityfilters);\n  return qualityfilters;\n};\n\n/**\n * Synchronous:  Recorre una colección y devuelve sus campos numéricos\n * @param  {gmaps.FeatureCollection | gmaps.MVCArray | gmaps.Data} [DataSet] la colección a recorrer\n * si no se especifica, usará el DataSet asignado al instanciar.\n * @return {Object}    Los campos numéricos del Dataset\n */\nCollectionUtils.prototype.findQuantityFields = function (DataSet) {\n  var _this = this,\n    quantityfilters = {\n      count: {\n        value: 'count',\n        label: 'count',\n        min: 1,\n        max: 1,\n      },\n    };\n  if (!DataSet) {\n    DataSet = _this.DataSet;\n  }\n\n  if (\n    !DataSet.getArray ||\n    !DataSet.getArray() ||\n    DataSet.getArray().length === 0\n  ) {\n    //console.zdebug('empty dataset');\n    return quantityfilters;\n  }\n\n  _.each(DataSet.fields, function (propiedadObj, propiedad) {\n    if (\n      propiedadObj &&\n      propiedadObj.value !== null &&\n      propiedadObj.value !== undefined\n    ) {\n      var arraypropiedad = _.map(DataSet.getArray(), function (element) {\n        if (element.get) {\n          return element.get(propiedadObj.value);\n        } else if (element.properties) {\n          return element.properties[propiedadObj.value];\n        } else {\n          return element[propiedadObj.value];\n        }\n      });\n\n      if (DataSet.backend_grouped) {\n        arraypropiedad = _.flatten(arraypropiedad);\n      }\n\n      var registros_numericos = _.filter(arraypropiedad, Number),\n        registros_totales = _.compact(arraypropiedad);\n\n      // si al menos un quinto de los registros son numéricos para esta propiedad\n      if (registros_numericos.length > registros_totales.length / 5) {\n        /*console.zdebug('QUANTITYFILTERS: NUMERICO', {\n\t\t\t\t\t\tpropiedad: propiedadObj.value,\n\t\t\t\t\t\tregistros_numericos: registros_numericos,\n\t\t\t\t\t\tregistros_totales: registros_totales,\n\t\t\t\t\t\t//arraypropiedad: arraypropiedad,\n\t\t\t\t\t});*/\n\n        var localmin = Number(_.min(_.filter(arraypropiedad, Number))),\n          localmax = Number(_.max(_.filter(arraypropiedad, Number)));\n\n        quantityfilters[propiedad] = {\n          min: Math.min(localmin, localmax),\n          max: Math.max(localmin, localmax),\n          label: propiedadObj.label ? propiedadObj.label : propiedad,\n          value: propiedadObj.value ? propiedadObj.value : propiedad,\n        };\n      } else {\n        /*console.zdebug('QUANTITYFILTERS: NO NUMERICO', {\n\t\t\t\t\t\tpropiedad: propiedadObj.value,\n\t\t\t\t\t\tregistros_numericos: registros_numericos,\n\t\t\t\t\t\tregistros_totales: registros_totales,\n\t\t\t\t\t\t//arraypropiedad: arraypropiedad,\n\t\t\t\t\t});*/\n        //delete(DataSet.quantityfilters[propiedad]);\n      }\n    } else {\n      //console.zlog('Not value', propiedad, propiedadObj);\n    }\n  });\n\n  DataSet.quantityfilters = quantityfilters;\n  //console.zdebug('DataSet quantityfilters are', quantityfilters);\n\n  return quantityfilters;\n};\n\n/**\n * Asynchronous: traverses the collection discriminating each field as quantityfilter or qualityfilder\n * @return {Promise}    A promise that resolves as a hash {qualityfilters,quantityfilters}\n */\nCollectionUtils.prototype.discriminateFields = function () {\n  var _this = this,\n    qualityfilters = {},\n    quantityfilters = {\n      count: {\n        value: 'count',\n        label: 'count',\n        min: 1,\n        max: 1,\n      },\n    },\n    DataSet = _this.DataSet;\n\n  if (!DataSet.getArray || DataSet.getArray().length === 0) {\n    console.zwarn('empty dataset');\n    return Promise.resolve({\n      quantityfilters: quantityfilters,\n      qualityfilters: qualityfilters,\n    });\n  }\n  return new Promise(function (resolve, reject) {\n    _.each(DataSet.fields, function (propiedadObj, propiedad) {\n      if (\n        propiedadObj &&\n        propiedadObj.value !== null &&\n        propiedadObj.value !== undefined\n      ) {\n        var arraypropiedad = _.map(DataSet.getArray(), function (element) {\n          if (element.get) {\n            return element.get(propiedadObj.value);\n          } else if (element.properties) {\n            return element.properties[propiedadObj.value];\n          } else {\n            return element[propiedadObj.value];\n          }\n        });\n\n        if (DataSet.backend_grouped) {\n          arraypropiedad = _.flatten(arraypropiedad);\n        }\n\n        var registros_numericos = _.filter(arraypropiedad, Number),\n          registros_totales = _.compact(arraypropiedad);\n\n        // si al menos un quinto de los registros son numéricos para esta propiedad\n        if (registros_numericos.length > registros_totales.length / 5) {\n          var localmin = Number(_.min(_.filter(arraypropiedad, Number))),\n            localmax = Number(_.max(_.filter(arraypropiedad, Number)));\n\n          quantityfilters[propiedad] = {\n            min: Math.min(localmin, localmax),\n            max: Math.max(localmin, localmax),\n            label: propiedadObj.label ? propiedadObj.label : propiedad,\n            value: propiedadObj.value ? propiedadObj.value : propiedad,\n          };\n        } else {\n          var data = _.map(_.groupBy(arraypropiedad), function (c, d) {\n            return {\n              name: d,\n              count: c.length,\n            };\n          });\n          qualityfilters[propiedad] = {\n            label: propiedadObj.label ? propiedadObj.label : propiedad,\n            value: propiedadObj.value ? propiedadObj.value : propiedad,\n            data: data,\n          };\n        }\n      }\n    });\n\n    DataSet.quantityfilters = quantityfilters;\n    DataSet.qualityfilters = qualityfilters;\n    //console.zdebug('DataSet qualityfilters are', qualityfilters);\n    resolve({\n      quantityfilters: quantityfilters,\n      qualityfilters: qualityfilters,\n    });\n  });\n};\n\nexport {CollectionUtils};\n","function hslaString(hslcolor) {\n\tif (hslcolor.a !== undefined) {\n\t\treturn (\n\t\t\t\"hsla(\" +\n\t\t\thslcolor.h +\n\t\t\t\",\" +\n\t\t\thslcolor.s +\n\t\t\t\"%,\" +\n\t\t\thslcolor.l +\n\t\t\t\"%,\" +\n\t\t\tparseFloat(hslcolor.a, 10) +\n\t\t\t\")\"\n\t\t);\n\t}\n\treturn \"hsl(\" + hslcolor.h + \",\" + hslcolor.s + \"%,\" + hslcolor.l + \"%)\";\n}\n\nfunction rgbaString(hexcolor) {\n\tif (hexcolor.a !== undefined) {\n\t\treturn (\n\t\t\t\"rgba(\" +\n\t\t\thexcolor.r +\n\t\t\t\",\" +\n\t\t\thexcolor.g +\n\t\t\t\",\" +\n\t\t\thexcolor.b +\n\t\t\t\",\" +\n\t\t\tparseFloat(hexcolor.a, 10) +\n\t\t\t\")\"\n\t\t);\n\t}\n\treturn \"rgb(\" + hexcolor.r + \",\" + hexcolor.g + \",\" + hexcolor.b + \")\";\n}\n\nfunction parseHalf(foo) {\n\treturn parseInt(foo / 2, 10);\n}\n\nfunction compact(array) {\n\tvar index = -1,\n\t\tlength = array ? array.length : 0,\n\t\tresIndex = 0,\n\t\tresult = [];\n\n\twhile (++index < length) {\n\t\tvar value = array[index];\n\t\tif (value) {\n\t\t\tresult[resIndex++] = value;\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction omit(obj, fn) {\n\tvar target = {};\n\tfor (var i in obj) {\n\t\tif (fn(i)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (!Object.prototype.hasOwnProperty.call(obj, i)) {\n\t\t\tcontinue;\n\t\t}\n\t\ttarget[i] = obj[i];\n\t}\n\treturn target;\n}\n\nfunction serializeOptions(options) {\n\tif (typeof options !== \"object\") {\n\t\treturn null;\n\t}\n\tvar cleanOptions = omit(options, function(prop) {\n\t\t\treturn prop.indexOf(\"gm_\") === 0;\n\t\t}),\n\t\tsortedOpts = Object.entries(cleanOptions)\n\t\t\t.filter(function(item) {\n\t\t\t\treturn (\n\t\t\t\t\ttypeof item[1] !== \"function\" &&\n\t\t\t\t\ttypeof item[1] !== \"object\" &&\n\t\t\t\t\titem[1] !== null &&\n\t\t\t\t\ttypeof item[1] !== \"undefined\"\n\t\t\t\t);\n\t\t\t})\n\t\t\t.sort();\n\treturn JSON.stringify(sortedOpts);\n}\n\nfunction IconObject(url, fillColor, markerOpts) {\n\tthis.url = url;\n\tthis.fillColor = fillColor;\n\tthis.markerOpts = markerOpts;\n\tObject.assign(this, markerOpts);\n\tif (window && window.google && window.google.maps) {\n\t\tthis.origin = new google.maps.Point(\n\t\t\tthis.markerOpts.origin.x,\n\t\t\tthis.markerOpts.origin.y\n\t\t);\n\t\tthis.anchor = new google.maps.Point(\n\t\t\tthis.markerOpts.anchor.x,\n\t\t\tthis.markerOpts.anchor.y\n\t\t);\n\t\tthis.size = new google.maps.Size(\n\t\t\tthis.markerOpts.size.width,\n\t\t\tthis.markerOpts.size.height\n\t\t);\n\t\tthis.scaledSize = new google.maps.Size(\n\t\t\tthis.markerOpts.scaledSize.width,\n\t\t\tthis.markerOpts.scaledSize.height\n\t\t);\n\t}\n\treturn this;\n}\n\nIconObject.prototype.toJSON = function() {\n\tvar serialized = omit(this.markerOpts, function(prop) {\n\t\treturn prop.indexOf(\"gm_\") === 0 || prop === \"url\";\n\t});\n\tserialized.fillColor = this.fillColor;\n\treturn serialized;\n};\n\n/** global: google */\n\nvar generateClusterCanvas = function(options) {\n    var canvas = options.canvas || document.createElement(\"canvas\"),\n        anchorX = 27,\n        anchorY = 53,\n        radius = anchorX - 9,\n        color1,\n        font = options.font || \"fontello\",\n        fontsize = options.fontsize || 14,\n        context = canvas.getContext(\"2d\");\n\n    canvas.width = anchorX * 2;\n    canvas.height = anchorY + 1;\n\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    context.moveTo(anchorX, anchorY);\n\n    var labelvalue = parseInt(options.label, 10);\n    if (labelvalue < 10) {\n        color1 = \"orange\";\n        fontsize = 14;\n    } else if (labelvalue < 30) {\n        color1 = \"red\";\n        fontsize = 15;\n    } else {\n        color1 = \"purple\";\n        fontsize = 16;\n    }\n    if (labelvalue > 99) {\n        radius = radius + 3;\n        context.setLineDash([5, 5]);\n        context.beginPath();\n        context.arc(\n            anchorX,\n            2 + 0.5 * anchorY,\n            radius + 7,\n            0,\n            2 * Math.PI,\n            false\n        );\n        context.fillStyle = \"transparent\";\n        context.strokeStyle = color1;\n        context.lineWidth = 2;\n        context.fill();\n        context.stroke();\n    }\n\n    context.setLineDash([5, 5]);\n    context.beginPath();\n    context.arc(anchorX, 2 + 0.5 * anchorY, radius + 2, 0, 2 * Math.PI, false);\n    context.fillStyle = \"transparent\";\n    context.strokeStyle = color1;\n    context.lineWidth = 2;\n    context.fill();\n    context.stroke();\n\n    // Círculo blanco\n    context.setLineDash([5, 0]);\n    context.beginPath();\n    context.arc(anchorX, 2 + 0.5 * anchorY, radius - 3, 0, 2 * Math.PI, false);\n    context.fillStyle = \"white\";\n    context.strokeStyle = color1;\n    context.lineWidth = 4;\n    context.fill();\n    context.stroke();\n\n    context.beginPath();\n\n    context.font = \"normal normal normal \" + fontsize + \"px \" + font;\n    context.fillStyle = \"#333\";\n    context.textBaseline = \"top\";\n\n    var textWidth = context.measureText(options.label),\n        text_x = options.label,\n        label_x = Math.floor(canvas.width / 2 - textWidth.width / 2),\n        label_y = 1 + Math.floor(canvas.height / 2 - fontsize / 2);\n\n    // centre the text.\n    context.fillText(text_x, label_x, label_y);\n\n    return canvas;\n};\nfunction createClusterIcon(theoptions) {\n    theoptions.scale = theoptions.scale || 1;\n    var markerCanvas = generateClusterCanvas(theoptions),\n        markerOpts = {},\n        scale = theoptions.scale;\n\n    Object.assign(markerOpts, theoptions);\n\n    Object.assign(markerOpts, {\n        origin: { x: 0, y: 0 },\n        anchor: { x: 27 * scale, y: 24 * scale },\n        size: { width: 54, height: 48 },\n        scaledSize: { width: 54 * scale, height: 48 * scale }\n    });\n\n    var url = markerCanvas.toDataURL(),\n        fillColor = markerCanvas.fillColor,\n        iconObj = new IconObject(url, fillColor, markerOpts);\n\n    return iconObj;\n}\n\n/** global: google, r, g, b */\n\nfunction parseHex(hexstring, opacity, darkenfactor) {\n    var hexcolor = {\n        hex: hexstring\n    };\n    darkenfactor = darkenfactor || 1;\n\n    hexstring = hexstring.replace(\"#\", \"\");\n    if (hexstring.length === 3) {\n        hexstring =\n            hexstring[0] +\n            hexstring[0] +\n            hexstring[1] +\n            hexstring[1] +\n            hexstring[2] +\n            hexstring[2];\n    }\n    if (isNaN(parseFloat(opacity, 10))) {\n        opacity = 1;\n    }\n\n    hexcolor.r = parseInt(\n        darkenfactor * parseInt(hexstring.substring(0, 2), 16),\n        10\n    );\n    hexcolor.g = parseInt(\n        darkenfactor * parseInt(hexstring.substring(2, 4), 16),\n        10\n    );\n    hexcolor.b = parseInt(\n        darkenfactor * parseInt(hexstring.substring(4, 6), 16),\n        10\n    );\n    hexcolor.a = opacity;\n    hexcolor.fillColor = rgbaString(hexcolor);\n    hexcolor.strokeColor = [\n        \"rgba(\" + parseHalf(hexcolor.r),\n        parseHalf(hexcolor.g),\n        parseHalf(hexcolor.b),\n        hexcolor.a + \")\"\n    ].join(\",\");\n    hexcolor.rgb = hexcolor.fillColor;\n    return hexcolor;\n}\n\nfunction parseHSL(hslstring, opacity) {\n    var hslcolor = {},\n        hslcolor_stroke = {},\n        hslparts = compact(hslstring.split(/hsla?\\(|,|\\)|%/));\n\n    if (hslparts[3] === undefined) {\n        hslparts[3] = 1;\n    }\n    if (isNaN(parseFloat(opacity, 10))) {\n        opacity = 1;\n    }\n\n    hslcolor.h = hslcolor_stroke.h = parseFloat(hslparts[0], 10);\n    hslcolor.s = hslcolor_stroke.s = parseFloat(hslparts[1], 10);\n    hslcolor.l = parseFloat(hslparts[2], 10);\n    hslcolor.a = hslcolor_stroke.a = parseFloat(opacity * hslparts[3], 10);\n    hslcolor_stroke.l = parseInt(hslcolor.l / 2, 10);\n\n    hslcolor.fillColor = hslaString(hslcolor);\n    hslcolor.strokeColor = hslaString(hslcolor_stroke);\n    hslcolor.hsl = hslcolor.fillColor;\n    return hslcolor;\n}\n\nfunction parseRGB(rgbstring, opacity, darkenfactor) {\n    var rgbcolor = {},\n        rgbparts = compact(rgbstring.split(/rgba?\\(|,|\\)/));\n\n    darkenfactor = darkenfactor || 1;\n\n    if (rgbparts[3] === undefined) {\n        rgbparts[3] = 1;\n    }\n\n    if (isNaN(parseFloat(opacity, 10))) {\n        opacity = 1;\n    }\n\n    rgbcolor.r = parseInt(darkenfactor * (parseInt(rgbparts[0], 10) % 256), 10);\n    rgbcolor.g = parseInt(darkenfactor * (parseInt(rgbparts[1], 10) % 256), 10);\n    rgbcolor.b = parseInt(darkenfactor * (parseInt(rgbparts[2], 10) % 256), 10);\n    rgbcolor.a = parseFloat(opacity * rgbparts[3], 10);\n    rgbcolor.fillColor = rgbaString(rgbcolor);\n    rgbcolor.strokeColor =\n        \"rgba(\" +\n        rgbcolor.r / 2 +\n        \",\" +\n        rgbcolor.g / 2 +\n        \",\" +\n        rgbcolor.b / 2 +\n        \",\" +\n        rgbcolor.a +\n        \")\";\n    rgbcolor.rgb = rgbcolor.fillColor;\n    return rgbcolor;\n}\n\nfunction hue2rgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n\nfunction hslToRGB(h, s, l, a, darkenfactor) {\n    var r, g, b;\n\n    darkenfactor = darkenfactor || 1;\n    h = parseFloat(h, 10) / 360;\n    s = parseFloat(s, 10) / 100;\n    l = parseFloat(l, 10) / 100;\n    if (a === undefined) {\n        a = 1;\n    }\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    if (a === undefined) {\n        a = 1;\n    }\n\n    var rgb = {\n        r: Math.round(r * 255 * darkenfactor),\n        g: Math.round(g * 255 * darkenfactor),\n        b: Math.round(b * 255 * darkenfactor),\n        a: parseFloat(a, 10)\n    };\n\n    rgb.fillColor = rgbaString(rgb);\n\n    return rgb;\n}\n\nfunction rgbToHSL(in_r, in_g, in_b, in_a) {\n    var h,\n        r = (in_r % 256) / 255,\n        g = (in_g % 256) / 255,\n        b = (in_b % 256) / 255,\n        a = in_a === undefined ? 1 : in_a,\n        max = Math.max(r, g, b),\n        min = Math.min(r, g, b),\n        sum = max + min,\n        diff = max - min,\n        s = sum > 1 ? diff / (2 - sum) : diff / sum;\n\n    switch (max) {\n        case r:\n            h = (g - b) / diff + (g < b ? 6 : 0);\n            break;\n        case g:\n            h = (b - r) / diff + 2;\n            break;\n        case b:\n            h = (r - g) / diff + 4;\n            break;\n        default:\n            h = 0;\n            break;\n    }\n\n    h /= 6;\n\n    if (diff === 0) {\n        h = s = 0; // achromatic\n    }\n\n    var hsl = {\n        h: Math.round(360 * h),\n        s: Math.round(100 * s),\n        l: Math.round(50 * sum),\n        a: Math.round(100 * a) / 100\n    };\n\n    hsl.fillColor = hslaString(hsl);\n\n    return hsl;\n}\n\nfunction toDecColor(stringcolor) {\n    var parsedcolor = {};\n    if (!stringcolor) {\n        parsedcolor.fillColor = \"rgba(100,250,50,0.99)\";\n    } else if (stringcolor.indexOf(\"rgb\") !== -1) {\n        parsedcolor = parseRGB(stringcolor);\n    } else if (stringcolor.indexOf(\"hsl\") !== -1) {\n        parsedcolor = parseHSL(stringcolor);\n    } else {\n        parsedcolor = parseHex(stringcolor);\n    }\n\n    return parsedcolor;\n}\n\nfunction getColor(val, range) {\n    var defaults = {\n        h: Math.floor((360 / range) * val),\n        s: 78, // constant saturation\n        l: 63, // constant luminance\n        a: 1\n    };\n\n    return hslaString(defaults);\n}\n\nfunction getColor1() {\n    var defaults1 = {\n        h: 1,\n        s: 78, // constant saturation\n        l: 33, // constant luminance\n        a: 1\n    };\n    return hslaString(defaults1);\n}\n\nfunction darken(stringcolor, factor) {\n    var darkercolor = {};\n    if (!factor) {\n        factor = 1;\n    }\n    if (stringcolor.fillColor.indexOf(\"rgb\") !== -1) {\n        darkercolor.r = factor * parseHalf(stringcolor.r);\n        darkercolor.g = factor * parseHalf(stringcolor.g);\n        darkercolor.b = factor * parseHalf(stringcolor.b);\n        darkercolor.a = 0.99;\n        darkercolor.fillColor = rgbaString(darkercolor);\n    } else if (stringcolor.fillColor.indexOf(\"hsl\") !== -1) {\n        darkercolor.h = stringcolor.h;\n        darkercolor.s = stringcolor.s;\n        darkercolor.l = factor * stringcolor.l - 30;\n        darkercolor.fillColor = hslaString(darkercolor);\n    }\n\n    return darkercolor;\n}\n\nfunction getColors(options) {\n    var color0, color1;\n    if (options.index !== undefined && options.count > 0) {\n        color0 = getColor(options.index, options.count);\n        color1 = getColor1();\n    } else {\n        var deccolor = toDecColor(options.color);\n        color0 = deccolor.fillColor;\n        color1 = darken(deccolor).fillColor;\n    }\n    return [color0, color1];\n}\n\n/** global: google */\nvar generateCanvas = function(options) {\n    var canvas = document.createElement(\"canvas\");\n    var ancho = 30,\n        alto = 40;\n    canvas.width = ancho + 18;\n    canvas.height = alto;\n    var x = canvas.width / 2,\n        y = canvas.height - 2,\n        radius = ancho / 2,\n        angulo = 0.6;\n\n    var font = \"'\" + options.font + \"'\" || \"Arial\";\n    var fontsize = options.fontsize || 11;\n\n    var context = canvas.getContext(\"2d\");\n\n    context.clearRect(0, 0, canvas.width, canvas.height);\n\n    var radius0 = 2 * radius,\n        cx = x + 0.95 * radius0,\n        cy = y + 0.45 * radius0;\n\n    var grad = context.createLinearGradient(0, 0, 0, canvas.height),\n        colors = getColors(options),\n        color0 = colors[0],\n        color1 = colors[1];\n\n    grad.addColorStop(0, color0);\n    grad.addColorStop(1, color1);\n\n    context.fillStyle = grad;\n    context.strokeStyle = \"rgba(200,200,200,0.7)\";\n\n    context.beginPath();\n\n    //arco izquierdo\n    context.arc(\n        cx - 1,\n        cy,\n        radius0,\n        (9 * Math.PI) / 8,\n        (-6 * Math.PI) / 8,\n        false\n    );\n\n    // arco superior\n    context.arc(x, (y - 7) / 2, radius, angulo, Math.PI - angulo, true);\n\n    //arco derecho\n    context.arc(\n        2 * x - cx + 1,\n        cy,\n        radius0,\n        (-0.95 * Math.PI) / 3,\n        -Math.PI / 8,\n        false\n    );\n    context.fill();\n    context.stroke();\n\n    context.beginPath();\n    context.arc(x, 0.4 * y, (2 * radius) / 3, 0, 2 * Math.PI, false);\n    context.fillStyle = \"white\";\n    context.fill();\n\n    context.beginPath();\n\n    // Render Label\n    //context.font = \"11pt Arial\";\n    context.font = fontsize + \"pt \" + font;\n    context.textBaseline = \"top\";\n\n    var textWidth = context.measureText(options.label);\n\n    if (textWidth.width > ancho || String(options.label).length > 3) {\n        context.rect(\n            x - 2 - textWidth.width / 2,\n            y - 30,\n            x - 2 + textWidth.width / 2,\n            y - 23\n        );\n        context.fillStyle = \"#F7F0F0\";\n        context.fill();\n        context.stroke();\n    }\n\n    context.fillStyle = \"black\";\n    context.strokeStyle = \"black\";\n    // centre the text.\n    context.fillText(\n        options.label,\n        1 + Math.floor(canvas.width / 2 - textWidth.width / 2),\n        8\n    );\n    canvas.fillColor = color0;\n\n    return canvas;\n};\nfunction createTextMarker(theoptions) {\n    var scale = theoptions.scale || 0.75,\n        markerCanvas = generateCanvas(theoptions),\n        markerOpts = {};\n\n    theoptions.type = \"textmarker\";\n\n    Object.assign(markerOpts, theoptions);\n\n    Object.assign(markerOpts, {\n        origin: { x: 0, y: 0 },\n        anchor: { x: 24 * scale, y: 40 * scale },\n        size: { width: 48, height: 40 },\n        scaledSize: { width: 48 * scale, height: 40 * scale }\n    });\n\n    var url = markerCanvas.toDataURL(),\n        fillColor = markerCanvas.fillColor,\n        iconObj = new IconObject(url, fillColor, markerOpts);\n\n    return iconObj;\n}\n\n/** global: google */\nvar generateFatCanvas = function(options) {\n\tvar canvas = options.canvas || document.createElement(\"canvas\"),\n\t\tanchorX = 27,\n\t\tanchorY = 53,\n\t\tradius = anchorX - 9,\n\t\tangulo = 1.1,\n\t\tfont = options.font || \"fontello\",\n\t\tfontsize = options.fontsize || 14,\n\t\tcontext = canvas.getContext(\"2d\"),\n\t\tgrad = context.createLinearGradient(0, 0, 0, anchorY);\n\n\tcanvas.width = anchorX * 2;\n\tcanvas.height = anchorY + 1;\n\n\tvar colors = getColors(options),\n\t\tcolor0 = colors[0],\n\t\tcolor1 = colors[1];\n\n\tcontext.clearRect(0, 0, canvas.width, canvas.height);\n\n\tgrad.addColorStop(0, color0);\n\tgrad.addColorStop(1, color1);\n\n\tcontext.fillStyle = grad;\n\tcontext.strokeStyle = color1;\n\tcontext.beginPath();\n\n\tcontext.moveTo(anchorX, anchorY);\n\n\t// arco superior\n\tcontext.arc(\n\t\tanchorX,\n\t\t2 + 0.5 * anchorY,\n\t\tradius,\n\t\tangulo,\n\t\tMath.PI - angulo,\n\t\ttrue\n\t);\n\n\t//punta inferior\n\tcontext.lineTo(anchorX, anchorY);\n\n\tcontext.fill();\n\tcontext.stroke();\n\n\t// Círculo blanco\n\tcontext.beginPath();\n\tcontext.arc(anchorX, 2 + 0.5 * anchorY, radius - 3, 0, 2 * Math.PI, false);\n\tcontext.fillStyle = \"white\";\n\tcontext.fill();\n\n\tcontext.beginPath();\n\n\tcontext.font = \"normal normal normal \" + fontsize + \"px \" + font;\n\t//console.log('context font', context.font);\n\tcontext.fillStyle = color1;\n\tcontext.textBaseline = \"top\";\n\n\tvar textWidth = context.measureText(options.unicodelabel),\n\t\ttext_x = options.unicodelabel,\n\t\tlabel_x = Math.floor(canvas.width / 2 - textWidth.width / 2),\n\t\tlabel_y = 1 + Math.floor(canvas.height / 2 - fontsize / 2);\n\n\t// centre the text.\n\tcontext.fillText(text_x, label_x, label_y);\n\tcanvas.fillColor = color0;\n\treturn canvas;\n};\n\nfunction createFatMarkerIcon(theoptions) {\n\tvar scale = theoptions.scale || 1,\n\t\tmarkerCanvas = generateFatCanvas(theoptions),\n\t\tmarkerOpts = {};\n\n\ttheoptions.type = \"fatmarker\";\n\n\tObject.assign(markerOpts, theoptions);\n\n\tObject.assign(markerOpts, {\n\t\torigin: { x: 0, y: 0 },\n\t\tanchor: { x: 21 * scale, y: 36 * scale },\n\t\tsize: { width: 54, height: 48 },\n\t\tscaledSize: { width: 42 * scale, height: 36 * scale },\n\t\tscale: scale\n\t});\n\n\tvar url = markerCanvas.toDataURL(),\n\t\tfillColor = markerCanvas.fillColor,\n\t\ticonObj = new IconObject(url, fillColor, markerOpts);\n\treturn iconObj;\n}\n\n/** global: google */\nvar generateGroupedCanvas = function(options) {\n    var text_x,\n        canvas = options.canvas || document.createElement(\"canvas\"),\n        context = canvas.getContext(\"2d\"),\n        font = options.font || \"fontello\",\n        fontsize = options.fontsize || 26;\n\n    canvas.width = 54;\n    canvas.height = 48;\n    context.clearRect(0, 0, canvas.width, canvas.height);\n\n    var colors = getColors(options),\n        color0 = colors[0];\n    context.beginPath();\n\n    context.font = \"normal normal normal \" + fontsize + \"px \" + font;\n\n    context.textBaseline = \"top\";\n    var textWidth = context.measureText(options.unicodelabel);\n    text_x = Math.floor(canvas.width / 2 - textWidth.width / 2);\n\n    context.shadowOffsetX = -2;\n    context.shadowOffsetY = -2;\n    context.shadowBlur = 0;\n\n    context.fillStyle = \"#FFFFFF\";\n    context.shadowColor = \"#666666\";\n\n    context.fillText(options.unicodelabel, text_x - 4, 2);\n    context.fillText(options.unicodelabel, text_x, 5);\n    context.fillStyle = color0;\n    context.fillText(options.unicodelabel, text_x + 4, 8);\n\n    context.strokeStyle = \"#FFFFFF\";\n    context.strokeText(options.unicodelabel, text_x + 4, 8);\n\n    canvas.fillColor = color0;\n\n    return canvas;\n};\n\nfunction createGroupedIcon(theoptions) {\n    theoptions.scale = theoptions.scale || 1;\n    theoptions.fontsize = theoptions.fontsize || 26;\n\n    var markerCanvas = generateGroupedCanvas(theoptions),\n        markerOpts = {};\n\n    var scale = theoptions.scale;\n\n    theoptions.type = \"transparent\";\n\n    Object.assign(markerOpts, theoptions);\n\n    Object.assign(markerOpts, {\n        origin: { x: 0, y: 0 },\n        anchor: { x: 27 * scale, y: 24 * scale },\n        size: { width: 54, height: 48 },\n        scaledSize: { width: 54 * scale, height: 48 * scale }\n    });\n\n    var url = markerCanvas.toDataURL(),\n        fillColor = markerCanvas.fillColor,\n        iconObj = new IconObject(url, fillColor, markerOpts);\n\n    return iconObj;\n}\n\n/** global: google */\nvar generateTransparentCanvas = function(options) {\n    var text_x,\n        canvas = options.canvas || document.createElement(\"canvas\"),\n        context = canvas.getContext(\"2d\"),\n        font = options.font || \"fontello\",\n        fontsize = options.fontsize || 26;\n\n    canvas.width = 54;\n    canvas.height = 48;\n    context.clearRect(0, 0, canvas.width, canvas.height);\n\n    var colors = getColors(options),\n        color0 = colors[0],\n        color1 = colors[1];\n    context.beginPath();\n\n    context.font = \"normal normal normal \" + (fontsize - 3) + \"px \" + font;\n\n    context.textBaseline = \"top\";\n    var textmetric = context.measureText(options.unicodelabel);\n    text_x = Math.floor(canvas.width / 2 - textmetric.width / 2);\n\n    //console.debug('textmetric', textmetric);\n\n    context.shadowOffsetX = 2;\n    context.shadowOffsetY = 2;\n    context.shadowBlur = 0;\n    context.shadowColor = \"#FFFFFF\";\n    context.fillStyle = color0;\n    context.fillText(options.unicodelabel, text_x + 1, 6);\n\n    context.shadowOffsetX = 2;\n    context.shadowOffsetY = 2;\n    context.shadowBlur = 1;\n    context.shadowColor = \"#FFFFFF\";\n    context.strokeStyle = color1;\n    context.strokeText(options.unicodelabel, text_x + 1, 6);\n\n    canvas.fillColor = color0;\n\n    return canvas;\n};\n\nfunction createTransparentMarkerIcon(theoptions) {\n    theoptions.scale = theoptions.scale || 1;\n    theoptions.fontsize = theoptions.fontsize || 26;\n\n    var markerCanvas = generateTransparentCanvas(theoptions),\n        markerOpts = {};\n\n    var scale = theoptions.scale;\n\n    theoptions.type = \"transparent\";\n\n    Object.assign(markerOpts, theoptions);\n\n    Object.assign(markerOpts, {\n        origin: { x: 0, y: 0 },\n        anchor: { x: 27 * scale, y: 24 * scale },\n        size: { width: 54, height: 48 },\n        scaledSize: { width: 54 * scale, height: 48 * scale }\n    });\n\n    var url = markerCanvas.toDataURL(),\n        fillColor = markerCanvas.fillColor,\n        iconObj = new IconObject(url, fillColor, markerOpts);\n\n    return iconObj;\n}\n\n/** global: google, r, g, b */\n\nfunction padHex(str_in) {\n    if ((\"\" + str_in).length === 1) {\n        return \"0\" + String(str_in);\n    } else {\n        return String(str_in);\n    }\n}\n\nvar MarkerFactory = {\n    createTransparentMarkerIcon: createTransparentMarkerIcon,\n    createFatMarkerIcon: createFatMarkerIcon,\n    createTextMarker: createTextMarker,\n    createClusterIcon: createClusterIcon,\n    createGroupedIcon: createGroupedIcon,\n\n    readCache: function(cacheKey, options) {\n        if (options.no_cache) {\n            return null;\n        }\n\n        var cached = window.sessionStorage.getItem(cacheKey);\n        if (cached === null) {\n            return null;\n        }\n\n        var cachedObj = JSON.parse(cached);\n        var iconObj = new IconObject(\n            cachedObj.url,\n            cachedObj.fillColor,\n            omit(cachedObj, function(key) {\n                return [\"url\", \"fillColor\"].indexOf(key) !== -1;\n            })\n        );\n        return iconObj;\n    },\n\n    setCache: function(cacheKey, iconObj) {\n        var cached = iconObj.toJSON();\n        cached.url = iconObj.url;\n        window.sessionStorage.setItem(cacheKey, JSON.stringify(cached));\n        return iconObj;\n    },\n\n    generateAutoicon: function(options) {\n        var generatorFN;\n\n        if (!options.is_icon) {\n            options.type = \"textmarker\";\n            generatorFN = MarkerFactory.createTextMarker;\n        } else if (options.shadow || options.type === \"grouped\") {\n            options.type = \"grouped\";\n            generatorFN = MarkerFactory.createGroupedIcon;\n        } else if (options.transparent_background) {\n            options.type = \"transparent\";\n            generatorFN = MarkerFactory.createTransparentMarkerIcon;\n        } else {\n            generatorFN = MarkerFactory.createFatMarkerIcon;\n            options.type = \"fatmarker\";\n        }\n        var cacheKey = serializeOptions(options);\n        var iconObj = MarkerFactory.readCache(cacheKey, options);\n        if (iconObj === null) {\n            iconObj = generatorFN(options);\n        }\n        if (options.no_cache) {\n            return iconObj;\n        }\n        return MarkerFactory.setCache(cacheKey, iconObj);\n    },\n    /**\n     * Receives a color string rgb(a), hsl(a) or hex, returns its components\n     * in rgba and hsla, with optional transparency\n     * plus a darkened version (default is half of each RGB component) and a\n     *\n     * @param {string} somecolor    - A color string in  rgb(a), hsl(a) or hex format\n     * @param {Number} opacity      - Opacity to apply to the color. Optional, default 1\n     * @param {Number} darkenfactor - How much darker should the resulting color be. Optional, default 1\n     *\n     * @return     {Object}  input color parsed and modified as requested\n     */\n    parseColorString: function(somecolor, opacity, darkenfactor) {\n        var parsedcolor = {\n                original: somecolor\n            },\n            hsl,\n            rgb;\n\n        darkenfactor = darkenfactor || 1;\n        opacity = isNaN(parseFloat(opacity, 10)) ? 1 : parseFloat(opacity, 10);\n\n        if (somecolor.indexOf(\"hsl\") !== -1) {\n            hsl = parseHSL(somecolor, opacity);\n            rgb = hslToRGB(hsl.h, hsl.s, hsl.l, hsl.a, darkenfactor);\n        } else if (somecolor.indexOf(\"rgb\") !== -1) {\n            rgb = parseRGB(somecolor, opacity, darkenfactor);\n        } else {\n            rgb = parseHex(somecolor, opacity, darkenfactor);\n        }\n\n        hsl = rgbToHSL(rgb.r, rgb.g, rgb.b, rgb.a);\n\n        parsedcolor.hsl = {\n            h: hsl.h,\n            s: hsl.s,\n            l: hsl.l,\n            a: hsl.a\n        };\n        parsedcolor.rgb = {\n            r: rgb.r,\n            g: rgb.g,\n            b: rgb.b,\n            a: rgb.a\n        };\n\n        parsedcolor.fillColor = rgb.fillColor;\n        parsedcolor.rgba = rgb.fillColor;\n        parsedcolor.hsla = hsl.fillColor;\n        parsedcolor.strokeColor = rgb.strokeColor;\n        parsedcolor.hex = [\n            \"#\",\n            padHex(rgb.r.toString(16)),\n            padHex(rgb.g.toString(16)),\n            padHex(rgb.b.toString(16)),\n            rgb.a === 0 ? \"00\" : \"\"\n        ].join(\"\");\n        return parsedcolor;\n    },\n\n    /**\n     * Generates an google maps marker (or an image as dataurl from the given options)\n     *\n     * @param      {Object}  options  The options\n     * @return     {Object}  { description_of_the_return_value }\n     */\n    autoIcon: function(options) {\n        if (typeof options !== \"object\") {\n            console.warn(\"autoIcon expects an object as its only parameter\");\n            return null;\n        }\n        // unless explicitly set to false, the icon doesn't have a marker-like wrapper\n        options.transparent_background =\n            options.transparent_background !== false;\n\n        options.label = String(options.label || \"A\");\n        options.color = options.color || \"#FF0000\";\n\n        if (\n            options.label.length === 4 ||\n            options.label.substring(0, 2) === \"0x\"\n        ) {\n            options.font = options.font || \"fontello\";\n            options.label = (options.label || \"e836\").slice(-4);\n            options.unicodelabel = String.fromCharCode(\"0x\" + options.label);\n            options.scale = options.scale || 1;\n            options.is_icon = true;\n\n            return MarkerFactory.generateAutoicon(options);\n        } else if (options.shadow) {\n\n            return MarkerFactory.createClusterIcon(options);\n        } else {\n            options.scale = options.scale || 0.75;\n            options.label = String(options.label || \"A\");\n            options.fontsize = options.fontsize || 11;\n            options.font = options.font || \"Arial\";\n            // This is text I should print literally\n\n            return MarkerFactory.generateAutoicon(options);\n        }\n    }\n};\n\nexport { MarkerFactory };\n","/** @license\n *\n *  Copyright (C) 2012 K. Arthur Endsley (kaendsle@mtu.edu)\n *  Michigan Tech Research Institute (MTRI)\n *  3600 Green Court, Suite 100, Ann Arbor, MI, 48105\n *\n *  This program is free software: you can redistribute it and/or modify\n *  it under the terms of the GNU General Public License as published by\n *  the Free Software Foundation, either version 3 of the License, or\n *  (at your option) any later version.\n *\n *  This program is distributed in the hope that it will be useful,\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n *  GNU General Public License for more details.\n *\n *  You should have received a copy of the GNU General Public License\n *  along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n/**\n * @desc The Wkt namespace.\n * @property    {String}    delimiter   - The default delimiter for separating components of atomic geometry (coordinates)\n * @namespace\n * @global\n */\nvar Wkt = function (obj) {\n  if (obj instanceof Wkt) return obj;\n  if (!(this instanceof Wkt)) return new Wkt(obj);\n  this._wrapped = obj;\n};\n\n/**\n * Returns true if the substring is found at the beginning of the string.\n * @param   str {String}    The String to search\n * @param   sub {String}    The substring of interest\n * @return      {Boolean}\n * @private\n */\nvar beginsWith = function (str, sub) {\n  return str.substring(0, sub.length) === sub;\n};\n\n/**\n * Returns true if the substring is found at the end of the string.\n * @param   str {String}    The String to search\n * @param   sub {String}    The substring of interest\n * @return      {Boolean}\n * @private\n */\nvar endsWith = function (str, sub) {\n  return str.substring(str.length - sub.length) === sub;\n};\n\n/**\n * The default delimiter for separating components of atomic geometry (coordinates)\n * @ignore\n */\nWkt.delimiter = ' ';\n\n/**\n * Determines whether or not the passed Object is an Array.\n * @param   obj {Object}    The Object in question\n * @return      {Boolean}\n * @member Wkt.isArray\n * @method\n */\nWkt.isArray = function (obj) {\n  return !!(obj && obj.constructor === Array);\n};\n\n/**\n * Removes given character String(s) from a String.\n * @param   str {String}    The String to search\n * @param   sub {String}    The String character(s) to trim\n * @return      {String}    The trimmed string\n * @member Wkt.trim\n * @method\n */\nWkt.trim = function (str, sub) {\n  sub = sub || ' '; // Defaults to trimming spaces\n  // Trim beginning spaces\n  while (beginsWith(str, sub)) {\n    str = str.substring(1);\n  }\n  // Trim ending spaces\n  while (endsWith(str, sub)) {\n    str = str.substring(0, str.length - 1);\n  }\n  return str;\n};\n\n/**\n * An object for reading WKT strings and writing geographic features\n * @constructor this.Wkt.Wkt\n * @param   initializer {String}    An optional WKT string for immediate read\n * @property            {Array}     components      - Holder for atomic geometry objects (internal representation of geometric components)\n * @property            {String}    delimiter       - The default delimiter for separating components of atomic geometry (coordinates)\n * @property            {Object}    regExes         - Some regular expressions copied from OpenLayers.Format.WKT.js\n * @property            {String}    type            - The Well-Known Text name (e.g. 'point') of the geometry\n * @property            {Boolean}   wrapVerticies   - True to wrap vertices in MULTIPOINT geometries; If true: MULTIPOINT((30 10),(10 30),(40 40)); If false: MULTIPOINT(30 10,10 30,40 40)\n * @return              {this.Wkt.Wkt}\n * @memberof Wkt\n */\nWkt.Wkt = function (initializer) {\n  /**\n   * The default delimiter between X and Y coordinates.\n   * @ignore\n   */\n  this.delimiter = Wkt.delimiter || ' ';\n\n  /**\n   * Configuration parameter for controlling how Wicket seralizes\n   * MULTIPOINT strings. Examples; both are valid WKT:\n   * If true: MULTIPOINT((30 10),(10 30),(40 40))\n   * If false: MULTIPOINT(30 10,10 30,40 40)\n   * @ignore\n   */\n  this.wrapVertices = true;\n\n  /**\n   * Some regular expressions copied from OpenLayers.Format.WKT.js\n   * @ignore\n   */\n  this.regExes = {\n    typeStr: /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n    spaces: /\\s+|\\+/, // Matches the '+' or the empty space\n    numeric: /-*\\d+(\\.*\\d+)?/,\n    comma: /\\s*,\\s*/,\n    parenComma: /\\)\\s*,\\s*\\(/,\n    coord: /-*\\d+\\.*\\d+ -*\\d+\\.*\\d+/, // e.g. \"24 -14\"\n    doubleParenComma: /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/,\n    trimParens: /^\\s*\\(?(.*?)\\)?\\s*$/,\n    ogcTypes: /^(multi)?(point|line|polygon|box)?(string)?$/i, // Captures e.g. \"Multi\",\"Line\",\"String\"\n    crudeJson: /^{.*\"(type|coordinates|geometries|features)\":.*}$/, // Attempts to recognize JSON strings\n  };\n\n  /**\n   * The internal representation of geometry--the \"components\" of geometry.\n   * @ignore\n   */\n  this.components = undefined;\n\n  // An initial WKT string may be provided\n  if (initializer && typeof initializer === 'string') {\n    this.read(initializer);\n  } else if (initializer && typeof initializer !== undefined) {\n    this.fromObject(initializer);\n  }\n};\n\n/**\n * Returns true if the internal geometry is a collection of geometries.\n * @return  {Boolean}   Returns true when it is a collection\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.isCollection = function () {\n  switch (this.type.slice(0, 5)) {\n    case 'multi':\n      // Trivial; any multi-geometry is a collection\n      return true;\n    case 'polyg':\n      // Polygons with holes are \"collections\" of rings\n      return true;\n    default:\n      // Any other geometry is not a collection\n      return false;\n  }\n};\n\n/**\n * Compares two x,y coordinates for equality.\n * @param   a   {Object}    An object with x and y properties\n * @param   b   {Object}    An object with x and y properties\n * @return      {Boolean}\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.sameCoords = function (a, b) {\n  return a.x === b.x && a.y === b.y;\n};\n\n/**\n * Sets internal geometry (components) from framework geometry (e.g.\n * Google Polygon objects or google.maps.Polygon).\n * @param   obj {Object}    The framework-dependent geometry representation\n * @return      {this.Wkt.Wkt}   The object itself\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.fromObject = function (obj) {\n  var result;\n\n  if (obj.hasOwnProperty('type') && obj.hasOwnProperty('coordinates')) {\n    result = this.fromJson(obj);\n  } else {\n    result = this.deconstruct.call(this, obj);\n  }\n\n  this.components = result.components;\n  this.isRectangle = result.isRectangle || false;\n  this.type = result.type;\n  return this;\n};\n\n/**\n * Creates external geometry objects based on a plug-in framework's\n * construction methods and available geometry classes.\n * @param   config  {Object}    An optional framework-dependent properties specification\n * @return          {Object}    The framework-dependent geometry representation\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.toObject = function (config) {\n  var obj = this.construct[this.type].call(this, config);\n  // Don't assign the \"properties\" property to an Array\n  if (typeof obj === 'object' && !Wkt.isArray(obj)) {\n    obj.properties = this.properties;\n  }\n  return obj;\n};\n\n/**\n * Returns the WKT string representation; the same as the write() method.\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.toString = function (config) {\n  return this.write();\n};\n\n/**\n * Parses a JSON representation as an Object.\n * @param\tobj\t{Object}\tAn Object with the GeoJSON schema\n * @return\t{this.Wkt.Wkt}\tThe object itself\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.fromJson = function (obj) {\n  var i, j, k, coords, iring, oring;\n\n  this.type = obj.type.toLowerCase();\n  this.components = [];\n  if (obj.hasOwnProperty('geometry')) {\n    //Feature\n    this.fromJson(obj.geometry);\n    this.properties = obj.properties;\n    return this;\n  }\n  coords = obj.coordinates;\n\n  if (!Wkt.isArray(coords[0])) {\n    // Point\n    this.components.push({\n      x: coords[0],\n      y: coords[1],\n    });\n  } else {\n    for (i in coords) {\n      if (coords.hasOwnProperty(i)) {\n        if (!Wkt.isArray(coords[i][0])) {\n          // LineString\n\n          if (this.type === 'multipoint') {\n            // MultiPoint\n            this.components.push([\n              {\n                x: coords[i][0],\n                y: coords[i][1],\n              },\n            ]);\n          } else {\n            this.components.push({\n              x: coords[i][0],\n              y: coords[i][1],\n            });\n          }\n        } else {\n          oring = [];\n          for (j in coords[i]) {\n            if (coords[i].hasOwnProperty(j)) {\n              if (!Wkt.isArray(coords[i][j][0])) {\n                oring.push({\n                  x: coords[i][j][0],\n                  y: coords[i][j][1],\n                });\n              } else {\n                iring = [];\n                for (k in coords[i][j]) {\n                  if (coords[i][j].hasOwnProperty(k)) {\n                    iring.push({\n                      x: coords[i][j][k][0],\n                      y: coords[i][j][k][1],\n                    });\n                  }\n                }\n\n                oring.push(iring);\n              }\n            }\n          }\n\n          this.components.push(oring);\n        }\n      }\n    }\n  }\n\n  return this;\n};\n\n/**\n * Creates a JSON representation, with the GeoJSON schema, of the geometry.\n * @return    {Object}    The corresponding GeoJSON representation\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.toJson = function () {\n  var cs, json, i, j, k, ring, rings;\n\n  cs = this.components;\n  json = {\n    coordinates: [],\n    type: function () {\n      var i, type, s;\n\n      type = this.regExes.ogcTypes.exec(this.type).slice(1);\n      s = [];\n\n      for (i in type) {\n        if (type.hasOwnProperty(i)) {\n          if (type[i] !== undefined) {\n            s.push(\n              type[i].toLowerCase().slice(0, 1).toUpperCase() +\n                type[i].toLowerCase().slice(1)\n            );\n          }\n        }\n      }\n\n      return s;\n    }\n      .call(this)\n      .join(''),\n  };\n\n  // Wkt BOX type gets a special bbox property in GeoJSON\n  if (this.type.toLowerCase() === 'box') {\n    json.type = 'Polygon';\n    json.bbox = [];\n\n    for (i in cs) {\n      if (cs.hasOwnProperty(i)) {\n        json.bbox = json.bbox.concat([cs[i].x, cs[i].y]);\n      }\n    }\n\n    json.coordinates = [\n      [\n        [cs[0].x, cs[0].y],\n        [cs[0].x, cs[1].y],\n        [cs[1].x, cs[1].y],\n        [cs[1].x, cs[0].y],\n        [cs[0].x, cs[0].y],\n      ],\n    ];\n\n    return json;\n  }\n\n  // For the coordinates of most simple features\n  for (i in cs) {\n    if (cs.hasOwnProperty(i)) {\n      // For those nested structures\n      if (Wkt.isArray(cs[i])) {\n        rings = [];\n\n        for (j in cs[i]) {\n          if (cs[i].hasOwnProperty(j)) {\n            if (Wkt.isArray(cs[i][j])) {\n              // MULTIPOLYGONS\n              ring = [];\n\n              for (k in cs[i][j]) {\n                if (cs[i][j].hasOwnProperty(k)) {\n                  ring.push([cs[i][j][k].x, cs[i][j][k].y]);\n                }\n              }\n\n              rings.push(ring);\n            } else {\n              // POLYGONS and MULTILINESTRINGS\n\n              if (cs[i].length > 1) {\n                rings.push([cs[i][j].x, cs[i][j].y]);\n              } else {\n                // MULTIPOINTS\n                rings = rings.concat([cs[i][j].x, cs[i][j].y]);\n              }\n            }\n          }\n        }\n\n        json.coordinates.push(rings);\n      } else {\n        if (cs.length > 1) {\n          // For LINESTRING type\n          json.coordinates.push([cs[i].x, cs[i].y]);\n        } else {\n          // For POINT type\n          json.coordinates = json.coordinates.concat([cs[i].x, cs[i].y]);\n        }\n      }\n    }\n  }\n\n  return json;\n};\n\n/**\n * Absorbs the geometry of another this.Wkt.Wkt instance, merging it with its own,\n * creating a collection (MULTI-geometry) based on their types, which must agree.\n * For example, creates a MULTIPOLYGON from a POLYGON type merged with another\n * POLYGON type, or adds a POLYGON instance to a MULTIPOLYGON instance.\n * @param   wkt {String}    A Wkt.Wkt object\n * @return\t{this.Wkt.Wkt}\tThe object itself\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.merge = function (wkt) {\n  var prefix = this.type.slice(0, 5);\n\n  if (this.type !== wkt.type) {\n    if (this.type.slice(5, this.type.length) !== wkt.type) {\n      throw TypeError(\n        'The input geometry types must agree or the calling this.Wkt.Wkt instance must be a multigeometry of the other'\n      );\n    }\n  }\n\n  switch (prefix) {\n    case 'point':\n      this.components = [this.components.concat(wkt.components)];\n      break;\n\n    case 'multi':\n      this.components = this.components.concat(\n        wkt.type.slice(0, 5) === 'multi' ? wkt.components : [wkt.components]\n      );\n      break;\n\n    default:\n      this.components = [this.components, wkt.components];\n      break;\n  }\n\n  if (prefix !== 'multi') {\n    this.type = 'multi' + this.type;\n  }\n  return this;\n};\n\n/**\n * Reads a WKT string, validating and incorporating it.\n * @param   str {String}    A WKT or GeoJSON string\n * @return\t{this.Wkt.Wkt}\tThe object itself\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.read = function (str) {\n  var matches;\n  matches = this.regExes.typeStr.exec(str);\n  if (matches) {\n    this.type = matches[1].toLowerCase();\n    this.base = matches[2];\n    if (this.ingest[this.type]) {\n      this.components = this.ingest[this.type].apply(this, [this.base]);\n    }\n  } else {\n    if (this.regExes.crudeJson.test(str)) {\n      if (typeof JSON === 'object' && typeof JSON.parse === 'function') {\n        this.fromJson(JSON.parse(str));\n      } else {\n        console.log(\n          'JSON.parse() is not available; cannot parse GeoJSON strings'\n        );\n        throw {\n          name: 'JSONError',\n          message:\n            'JSON.parse() is not available; cannot parse GeoJSON strings',\n        };\n      }\n    } else {\n      console.log('Invalid WKT string provided to read()');\n      throw {\n        name: 'WKTError',\n        message: 'Invalid WKT string provided to read()',\n      };\n    }\n  }\n\n  return this;\n}; // eo readWkt\n\n/**\n * Writes a WKT string.\n * @param   components  {Array}     An Array of internal geometry objects\n * @return              {String}    The corresponding WKT representation\n * @memberof this.Wkt.Wkt\n * @method\n */\nWkt.Wkt.prototype.write = function (components) {\n  var i, pieces, data;\n\n  components = components || this.components;\n\n  pieces = [];\n\n  pieces.push(this.type.toUpperCase() + '(');\n\n  for (i = 0; i < components.length; i += 1) {\n    if (this.isCollection() && i > 0) {\n      pieces.push(',');\n    }\n\n    // There should be an extract function for the named type\n    if (!this.extract[this.type]) {\n      return null;\n    }\n\n    data = this.extract[this.type].apply(this, [components[i]]);\n    if (this.isCollection() && this.type !== 'multipoint') {\n      pieces.push('(' + data + ')');\n    } else {\n      pieces.push(data);\n\n      // If not at the end of the components, add a comma\n      if (i !== components.length - 1 && this.type !== 'multipoint') {\n        pieces.push(',');\n      }\n    }\n  }\n\n  pieces.push(')');\n\n  return pieces.join('');\n};\n\n/**\n * This object contains functions as property names that extract WKT\n * strings from the internal representation.\n * @memberof this.Wkt.Wkt\n * @namespace this.Wkt.Wkt.extract\n * @instance\n */\nWkt.Wkt.prototype.extract = {\n  /**\n   * Return a WKT string representing atomic (point) geometry\n   * @param   point   {Object}    An object with x and y properties\n   * @return          {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  point: function (point) {\n    return String(point.x) + this.delimiter + String(point.y);\n  },\n\n  /**\n   * Return a WKT string representing multiple atoms (points)\n   * @param   multipoint  {Array}     Multiple x-and-y objects\n   * @return              {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  multipoint: function (multipoint) {\n    var i,\n      parts = [],\n      s;\n\n    for (i = 0; i < multipoint.length; i += 1) {\n      s = this.extract.point.apply(this, [multipoint[i]]);\n\n      if (this.wrapVertices) {\n        s = '(' + s + ')';\n      }\n\n      parts.push(s);\n    }\n\n    return parts.join(',');\n  },\n\n  /**\n   * Return a WKT string representing a chain (linestring) of atoms\n   * @param   linestring  {Array}     Multiple x-and-y objects\n   * @return              {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  linestring: function (linestring) {\n    // Extraction of linestrings is the same as for points\n    return this.extract.point.apply(this, [linestring]);\n  },\n\n  /**\n   * Return a WKT string representing multiple chains (multilinestring) of atoms\n   * @param   multilinestring {Array}     Multiple of multiple x-and-y objects\n   * @return                  {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  multilinestring: function (multilinestring) {\n    var i,\n      parts = [];\n\n    if (multilinestring.length) {\n      for (i = 0; i < multilinestring.length; i += 1) {\n        parts.push(this.extract.linestring.apply(this, [multilinestring[i]]));\n      }\n    } else {\n      parts.push(this.extract.point.apply(this, [multilinestring]));\n    }\n\n    return parts.join(',');\n  },\n\n  /**\n   * Return a WKT string representing multiple atoms in closed series (polygon)\n   * @param   polygon {Array}     Collection of ordered x-and-y objects\n   * @return          {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  polygon: function (polygon) {\n    // Extraction of polygons is the same as for multilinestrings\n    return this.extract.multilinestring.apply(this, [polygon]);\n  },\n\n  /**\n   * Return a WKT string representing multiple closed series (multipolygons) of multiple atoms\n   * @param   multipolygon    {Array}     Collection of ordered x-and-y objects\n   * @return                  {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  multipolygon: function (multipolygon) {\n    var i,\n      parts = [];\n    for (i = 0; i < multipolygon.length; i += 1) {\n      parts.push(\n        '(' + this.extract.polygon.apply(this, [multipolygon[i]]) + ')'\n      );\n    }\n    return parts.join(',');\n  },\n\n  /**\n   * Return a WKT string representing a 2DBox\n   * @param   multipolygon    {Array}     Collection of ordered x-and-y objects\n   * @return                  {String}    The WKT representation\n   * @memberof this.Wkt.Wkt.extract\n   * @instance\n   */\n  box: function (box) {\n    return this.extract.linestring.apply(this, [box]);\n  },\n\n  geometrycollection: function (str) {\n    console.log('The geometrycollection WKT type is not yet supported.');\n  },\n};\n\n/**\n * This object contains functions as property names that ingest WKT\n * strings into the internal representation.\n * @memberof this.Wkt.Wkt\n * @namespace this.Wkt.Wkt.ingest\n * @instance\n */\nWkt.Wkt.prototype.ingest = {\n  /**\n   * Return point feature given a point WKT fragment.\n   * @param   str {String}    A WKT fragment representing the point\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  point: function (str) {\n    var coords = Wkt.trim(str).split(this.regExes.spaces);\n    // In case a parenthetical group of coordinates is passed...\n    return [\n      {\n        // ...Search for numeric substrings\n        x: parseFloat(this.regExes.numeric.exec(coords[0])[0]),\n        y: parseFloat(this.regExes.numeric.exec(coords[1])[0]),\n      },\n    ];\n  },\n\n  /**\n   * Return a multipoint feature given a multipoint WKT fragment.\n   * @param   str {String}    A WKT fragment representing the multipoint\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  multipoint: function (str) {\n    var i, components, points;\n    components = [];\n    points = Wkt.trim(str).split(this.regExes.comma);\n    for (i = 0; i < points.length; i += 1) {\n      components.push(this.ingest.point.apply(this, [points[i]]));\n    }\n    return components;\n  },\n\n  /**\n   * Return a linestring feature given a linestring WKT fragment.\n   * @param   str {String}    A WKT fragment representing the linestring\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  linestring: function (str) {\n    var i, multipoints, components;\n\n    // In our x-and-y representation of components, parsing\n    //  multipoints is the same as parsing linestrings\n    multipoints = this.ingest.multipoint.apply(this, [str]);\n\n    // However, the points need to be joined\n    components = [];\n    for (i = 0; i < multipoints.length; i += 1) {\n      components = components.concat(multipoints[i]);\n    }\n    return components;\n  },\n\n  /**\n   * Return a multilinestring feature given a multilinestring WKT fragment.\n   * @param   str {String}    A WKT fragment representing the multilinestring\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  multilinestring: function (str) {\n    var i, components, line, lines;\n    components = [];\n\n    lines = Wkt.trim(str).split(this.regExes.doubleParenComma);\n    if (lines.length === 1) {\n      // If that didn't work...\n      lines = Wkt.trim(str).split(this.regExes.parenComma);\n    }\n\n    for (i = 0; i < lines.length; i += 1) {\n      line = lines[i].replace(this.regExes.trimParens, '$1');\n      components.push(this.ingest.linestring.apply(this, [line]));\n    }\n\n    return components;\n  },\n\n  /**\n   * Return a polygon feature given a polygon WKT fragment.\n   * @param   str {String}    A WKT fragment representing the polygon\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  polygon: function (str) {\n    var i, j, components, subcomponents, ring, rings;\n    rings = Wkt.trim(str).split(this.regExes.parenComma);\n    components = []; // Holds one or more rings\n    for (i = 0; i < rings.length; i += 1) {\n      ring = rings[i]\n        .replace(this.regExes.trimParens, '$1')\n        .split(this.regExes.comma);\n      subcomponents = []; // Holds the outer ring and any inner rings (holes)\n      for (j = 0; j < ring.length; j += 1) {\n        // Split on the empty space or '+' character (between coordinates)\n        var split = ring[j].split(this.regExes.spaces);\n        if (split.length > 2) {\n          //remove the elements which are blanks\n          split = split.filter(function (n) {\n            return n != '';\n          });\n        }\n        if (split.length === 2) {\n          var x_cord = split[0];\n          var y_cord = split[1];\n\n          //now push\n          subcomponents.push({\n            x: parseFloat(x_cord),\n            y: parseFloat(y_cord),\n          });\n        }\n      }\n      components.push(subcomponents);\n    }\n    return components;\n  },\n\n  /**\n   * Return box vertices (which would become the Rectangle bounds) given a Box WKT fragment.\n   * @param   str {String}    A WKT fragment representing the box\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  box: function (str) {\n    var i, multipoints, components;\n\n    // In our x-and-y representation of components, parsing\n    //  multipoints is the same as parsing linestrings\n    multipoints = this.ingest.multipoint.apply(this, [str]);\n\n    // However, the points need to be joined\n    components = [];\n    for (i = 0; i < multipoints.length; i += 1) {\n      components = components.concat(multipoints[i]);\n    }\n\n    return components;\n  },\n\n  /**\n   * Return a multipolygon feature given a multipolygon WKT fragment.\n   * @param   str {String}    A WKT fragment representing the multipolygon\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  multipolygon: function (str) {\n    var i, components, polygon, polygons;\n    components = [];\n    polygons = Wkt.trim(str).split(this.regExes.doubleParenComma);\n    for (i = 0; i < polygons.length; i += 1) {\n      polygon = polygons[i].replace(this.regExes.trimParens, '$1');\n      components.push(this.ingest.polygon.apply(this, [polygon]));\n    }\n    return components;\n  },\n\n  /**\n   * Return an array of features given a geometrycollection WKT fragment.\n   * @param   str {String}    A WKT fragment representing the geometry collection\n   * @memberof this.Wkt.Wkt.ingest\n   * @instance\n   */\n  geometrycollection: function (str) {\n    console.log('The geometrycollection WKT type is not yet supported.');\n  },\n}; // eo ingest\n\n/**\n * @augments Wkt.Wkt\n * A framework-dependent flag, set for each Wkt.Wkt() instance, that indicates\n * whether or not a closed polygon geometry should be interpreted as a rectangle.\n */\nWkt.Wkt.prototype.isRectangle = false;\n\n/**\n * @augments Wkt.Wkt\n * An object of framework-dependent construction methods used to generate\n * objects belonging to the various geometry classes of the framework.\n */\nWkt.Wkt.prototype.construct = {\n  /**\n   * Creates the framework's equivalent point geometry object.\n   * @param   config      {Object}    An optional properties hash the object should use\n   * @param   component   {Object}    An optional component to build from\n   * @return              {google.maps.Marker}\n   */\n  point: function (config, component) {\n    var c = component || this.components;\n\n    config = config || {};\n\n    config.position = new google.maps.LatLng(c[0].y, c[0].x);\n\n    return new google.maps.Marker(config);\n  },\n\n  /**\n   * Creates the framework's equivalent multipoint geometry object.\n   * @param   config  {Object}    An optional properties hash the object should use\n   * @return          {Array}     Array containing multiple google.maps.Marker\n   */\n  multipoint: function (config) {\n    var i, c, arr;\n\n    c = this.components;\n\n    config = config || {};\n\n    arr = [];\n\n    for (i = 0; i < c.length; i += 1) {\n      arr.push(this.construct.point(config, c[i]));\n    }\n\n    return arr;\n  },\n\n  /**\n   * Creates the framework's equivalent linestring geometry object.\n   * @param   config      {Object}    An optional properties hash the object should use\n   * @param   component   {Object}    An optional component to build from\n   * @return              {google.maps.Polyline}\n   */\n  linestring: function (config, component) {\n    var i, c;\n\n    c = component || this.components;\n\n    config = config || {\n      editable: false,\n    };\n\n    config.path = [];\n\n    for (i = 0; i < c.length; i += 1) {\n      config.path.push(new google.maps.LatLng(c[i].y, c[i].x));\n    }\n\n    return new google.maps.Polyline(config);\n  },\n\n  /**\n   * Creates the framework's equivalent multilinestring geometry object.\n   * @param   config  {Object}    An optional properties hash the object should use\n   * @return          {Array}     Array containing multiple google.maps.Polyline instances\n   */\n  multilinestring: function (config) {\n    var i, c, arr;\n\n    c = this.components;\n\n    config = config || {\n      editable: false,\n    };\n\n    config.path = [];\n\n    arr = [];\n\n    for (i = 0; i < c.length; i += 1) {\n      arr.push(this.construct.linestring(config, c[i]));\n    }\n\n    return arr;\n  },\n\n  /**\n   * Creates the framework's equivalent Box or Rectangle geometry object.\n   * @param   config      {Object}    An optional properties hash the object should use\n   * @param   component   {Object}    An optional component to build from\n   * @return              {google.maps.Rectangle}\n   */\n  box: function (config, component) {\n    var c = component || this.components;\n\n    config = config || {};\n\n    config.bounds = new google.maps.LatLngBounds(\n      new google.maps.LatLng(c[0].y, c[0].x),\n      new google.maps.LatLng(c[1].y, c[1].x)\n    );\n\n    return new google.maps.Rectangle(config);\n  },\n\n  /**\n   * Creates the framework's equivalent polygon geometry object.\n   * @param   config      {Object}    An optional properties hash the object should use\n   * @param   component   {Object}    An optional component to build from\n   * @return              {google.maps.Polygon}\n   */\n  polygon: function (config, component) {\n    var j, k, c, rings, verts;\n\n    var polygonIsClockwise = function (coords) {\n      var area = 0,\n        j = null,\n        i = 0;\n\n      for (i = 0; i < coords.length; i++) {\n        j = (i + 1) % coords.length;\n        area += coords[i].x * coords[j].x;\n        area -= coords[j].y * coords[i].y;\n      }\n\n      return area > 0;\n    };\n\n    c = component || this.components;\n\n    config = config || {\n      editable: false, // Editable geometry off by default\n    };\n\n    config.paths = [];\n\n    rings = [];\n    for (j = 0; j < c.length; j += 1) {\n      // For each ring...\n\n      verts = [];\n      // NOTE: We iterate to one (1) less than the Array length to skip the last vertex\n      for (k = 0; k < c[j].length - 1; k += 1) {\n        // For each vertex...\n        verts.push(new google.maps.LatLng(c[j][k].y, c[j][k].x));\n      } // eo for each vertex\n\n      if (j !== 0) {\n        // Orient inner rings correctly\n        if (polygonIsClockwise(c[j]) && this.type == 'polygon') {\n          verts.reverse();\n        }\n      }\n\n      rings.push(verts);\n    } // eo for each ring\n\n    config.paths = config.paths.concat(rings);\n\n    if (this.isRectangle) {\n      return (function () {\n        var bounds, v;\n\n        bounds = new google.maps.LatLngBounds();\n\n        for (v in rings[0]) {\n          // Ought to be only 1 ring in a Rectangle\n          if (rings[0].hasOwnProperty(v)) {\n            bounds.extend(rings[0][v]);\n          }\n        }\n\n        return new google.maps.Rectangle({\n          bounds: bounds,\n        });\n      })();\n    } else {\n      return new google.maps.Polygon(config);\n    }\n  },\n\n  /**\n   * Creates the framework's equivalent multipolygon geometry object.\n   * @param   config  {Object}    An optional properties hash the object should use\n   * @return          {Array}     Array containing multiple google.maps.Polygon\n   */\n  multipolygon: function (config) {\n    var i, c, arr;\n\n    c = this.components;\n\n    config = config || {\n      editable: false,\n    };\n\n    config.path = [];\n\n    arr = [];\n\n    for (i = 0; i < c.length; i += 1) {\n      arr.push(this.construct.polygon(config, c[i]));\n    }\n\n    return arr;\n  },\n};\n\n/**\n * @augments Wkt.Wkt\n * A framework-dependent deconstruction method used to generate internal\n * geometric representations from instances of framework geometry. This method\n * uses object detection to attempt to classify members of framework geometry\n * classes into the standard WKT types.\n * @param obj       {Object}    An instance of one of the framework's geometry classes\n * @param multiFlag {Boolean} If true, then the deconstructor will be forced to return a MultiGeometry (multipoint, multilinestring or multipolygon)\n * @return          {Object}    A hash of the 'type' and 'components' thus derived, plus the WKT string of the feature.\n */\nWkt.Wkt.prototype.deconstruct = function (obj, multiFlag) {\n  var features,\n    i,\n    j,\n    multiFlag,\n    verts,\n    rings,\n    sign,\n    tmp,\n    response,\n    lat,\n    lng,\n    vertex,\n    ring,\n    linestrings,\n    k;\n\n  // Shortcut to signed area function (determines clockwise vs counter-clock)\n  if (google.maps.geometry) {\n    sign = google.maps.geometry.spherical.computeSignedArea;\n  }\n\n  // google.maps.LatLng //////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.LatLng) {\n    response = {\n      type: 'point',\n      components: [\n        {\n          x: obj.lng(),\n          y: obj.lat(),\n        },\n      ],\n    };\n    return response;\n  }\n\n  // google.maps.Point //////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Point) {\n    response = {\n      type: 'point',\n      components: [\n        {\n          x: obj.x,\n          y: obj.y,\n        },\n      ],\n    };\n    return response;\n  }\n\n  // google.maps.Marker //////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Marker) {\n    response = {\n      type: 'point',\n      components: [\n        {\n          x: obj.getPosition().lng(),\n          y: obj.getPosition().lat(),\n        },\n      ],\n    };\n    return response;\n  }\n\n  // google.maps.Polyline ////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Polyline) {\n    verts = [];\n    for (i = 0; i < obj.getPath().length; i += 1) {\n      tmp = obj.getPath().getAt(i);\n      verts.push({\n        x: tmp.lng(),\n        y: tmp.lat(),\n      });\n    }\n    response = {\n      type: 'linestring',\n      components: verts,\n    };\n    return response;\n  }\n\n  // google.maps.Polygon /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Polygon) {\n    rings = [];\n\n    if (multiFlag === undefined) {\n      multiFlag = (function () {\n        var areas, i, l;\n\n        l = obj.getPaths().length;\n        if (l <= 1) {\n          // Trivial; this is a single polygon\n          return false;\n        }\n\n        if (l === 2) {\n          // If clockwise*clockwise or counter*counter, i.e.\n          //  (-1)*(-1) or (1)*(1), then result would be positive\n          if (\n            sign(obj.getPaths().getAt(0)) * sign(obj.getPaths().getAt(1)) <\n            0\n          ) {\n            return false; // Most likely single polygon with 1 hole\n          }\n\n          return true;\n        }\n\n        // Must be longer than 3 polygons at this point...\n        areas = obj\n          .getPaths()\n          .getArray()\n          .map(function (k) {\n            return sign(k) / Math.abs(sign(k)); // Unit normalization (outputs 1 or -1)\n          });\n\n        // If two clockwise or two counter-clockwise rings are found\n        //  (at different indices)...\n        if (areas.indexOf(areas[0]) !== areas.lastIndexOf(areas[0])) {\n          multiFlag = true; // Flag for holes in one or more polygons\n          return true;\n        }\n\n        return false;\n      })();\n    }\n\n    for (i = 0; i < obj.getPaths().length; i += 1) {\n      // For each polygon (ring)...\n      tmp = obj.getPaths().getAt(i);\n      verts = [];\n\n      for (j = 0; j < obj.getPaths().getAt(i).length; j += 1) {\n        // For each vertex...\n        verts.push({\n          x: tmp.getAt(j).lng(),\n          y: tmp.getAt(j).lat(),\n        });\n      }\n\n      if (!tmp.getAt(tmp.length - 1).equals(tmp.getAt(0))) {\n        if (i % 2 !== 0) {\n          // In inner rings, coordinates are reversed...\n\n          verts.push({\n            // Add the first coordinate again for closure\n            x: tmp.getAt(0).lng(),\n            y: tmp.getAt(0).lat(),\n          });\n          verts.reverse();\n        } else {\n          verts.push({\n            // Add the first coordinate again for closure\n            x: tmp.getAt(0).lng(),\n            y: tmp.getAt(0).lat(),\n          });\n        }\n      }\n\n      if (obj.getPaths().length > 1 && i > 0) {\n        // If this and the last ring have the same signs...\n        if (\n          (sign(obj.getPaths().getAt(i)) > 0 &&\n            sign(obj.getPaths().getAt(i - 1)) > 0) ||\n          (sign(obj.getPaths().getAt(i)) < 0 &&\n            sign(obj.getPaths().getAt(i - 1)) < 0) /*&& !multiFlag*/\n        ) {\n          // ...They must both be inner rings (or both be outer rings, in a multipolygon)\n          verts = [verts]; // Wrap multipolygons once more (collection)\n        } else {\n          verts.reverse();\n        }\n      }\n\n      //TODO This makes mistakes when a second polygon has holes; it sees them all as individual polygons\n      /*if (i % 2 !== 0) { // In inner rings, coordinates are reversed...\n\t\t\t\tverts.reverse();\n\t\t\t}*/\n\n      rings.push(verts);\n    }\n\n    response = {\n      type: multiFlag ? 'multipolygon' : 'polygon',\n      components: rings,\n    };\n    return response;\n  }\n\n  // google.maps.Circle //////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Circle) {\n    var point = obj.getCenter();\n    var radius = obj.getRadius();\n    verts = [];\n    var d2r = Math.PI / 180; // degrees to radians\n    var r2d = 180 / Math.PI; // radians to degrees\n    radius = radius / 1609; // meters to miles\n    var earthsradius = 3963; // 3963 is the radius of the earth in miles\n    var num_seg = 32; // number of segments used to approximate a circle\n    var rlat = (radius / earthsradius) * r2d;\n    var rlng = rlat / Math.cos(point.lat() * d2r);\n\n    for (var n = 0; n <= num_seg; n++) {\n      var theta = Math.PI * (n / (num_seg / 2));\n      lng = point.lng() + rlng * Math.cos(theta); // center a + radius x * cos(theta)\n      lat = point.lat() + rlat * Math.sin(theta); // center b + radius y * sin(theta)\n      verts.push({\n        x: lng,\n        y: lat,\n      });\n    }\n\n    response = {\n      type: 'polygon',\n      components: [verts],\n    };\n\n    return response;\n  }\n\n  // google.maps.LatLngBounds ///////////////////////////////////////////////////\n  if (obj.constructor === google.maps.LatLngBounds) {\n    tmp = obj;\n    verts = [];\n    verts.push({\n      // NW corner\n      x: tmp.getSouthWest().lng(),\n      y: tmp.getNorthEast().lat(),\n    });\n\n    verts.push({\n      // NE corner\n      x: tmp.getNorthEast().lng(),\n      y: tmp.getNorthEast().lat(),\n    });\n\n    verts.push({\n      // SE corner\n      x: tmp.getNorthEast().lng(),\n      y: tmp.getSouthWest().lat(),\n    });\n\n    verts.push({\n      // SW corner\n      x: tmp.getSouthWest().lng(),\n      y: tmp.getSouthWest().lat(),\n    });\n\n    verts.push({\n      // NW corner (again, for closure)\n      x: tmp.getSouthWest().lng(),\n      y: tmp.getNorthEast().lat(),\n    });\n\n    response = {\n      type: 'polygon',\n      isRectangle: true,\n      components: [verts],\n    };\n\n    return response;\n  }\n\n  // google.maps.Rectangle ///////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Rectangle) {\n    tmp = obj.getBounds();\n    verts = [];\n    verts.push({\n      // NW corner\n      x: tmp.getSouthWest().lng(),\n      y: tmp.getNorthEast().lat(),\n    });\n\n    verts.push({\n      // NE corner\n      x: tmp.getNorthEast().lng(),\n      y: tmp.getNorthEast().lat(),\n    });\n\n    verts.push({\n      // SE corner\n      x: tmp.getNorthEast().lng(),\n      y: tmp.getSouthWest().lat(),\n    });\n\n    verts.push({\n      // SW corner\n      x: tmp.getSouthWest().lng(),\n      y: tmp.getSouthWest().lat(),\n    });\n\n    verts.push({\n      // NW corner (again, for closure)\n      x: tmp.getSouthWest().lng(),\n      y: tmp.getNorthEast().lat(),\n    });\n\n    response = {\n      type: 'polygon',\n      isRectangle: true,\n      components: [verts],\n    };\n\n    return response;\n  }\n\n  // google.maps.Data Geometry Types /////////////////////////////////////////////////////\n\n  // google.maps.Data.Feature /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.Feature) {\n    return this.deconstruct.call(this, obj.getGeometry());\n  }\n\n  // google.maps.Data.Point /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.Point) {\n    //console.log('It is a google.maps.Data.Point');\n    response = {\n      type: 'point',\n      components: [\n        {\n          x: obj.get().lng(),\n          y: obj.get().lat(),\n        },\n      ],\n    };\n    return response;\n  }\n\n  // google.maps.Data.LineString /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.LineString) {\n    verts = [];\n    //console.log('It is a google.maps.Data.LineString');\n    for (i = 0; i < obj.getLength(); i += 1) {\n      vertex = obj.getAt(i);\n      verts.push({\n        x: vertex.lng(),\n        y: vertex.lat(),\n      });\n    }\n    response = {\n      type: 'linestring',\n      components: verts,\n    };\n    return response;\n  }\n\n  // google.maps.Data.Polygon /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.Polygon) {\n    var rings = [];\n    //console.log('It is a google.maps.Data.Polygon');\n    for (i = 0; i < obj.getLength(); i += 1) {\n      // For each ring...\n      ring = obj.getAt(i);\n      var verts = [];\n      for (j = 0; j < ring.getLength(); j += 1) {\n        // For each vertex...\n        vertex = ring.getAt(j);\n        verts.push({\n          x: vertex.lng(),\n          y: vertex.lat(),\n        });\n      }\n      verts.push({\n        x: ring.getAt(0).lng(),\n        y: ring.getAt(0).lat(),\n      });\n\n      rings.push(verts);\n    }\n    response = {\n      type: 'polygon',\n      components: rings,\n    };\n\n    return response;\n  }\n\n  // google.maps.Data.MultiPoint /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.MultiPoint) {\n    verts = [];\n    for (i = 0; i < obj.getLength(); i += 1) {\n      vertex = obj.getAt(i);\n      verts.push([\n        {\n          x: vertex.lng(),\n          y: vertex.lat(),\n        },\n      ]);\n    }\n    response = {\n      type: 'multipoint',\n      components: verts,\n    };\n    return response;\n  }\n\n  // google.maps.Data.MultiLineString /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.MultiLineString) {\n    linestrings = [];\n    for (i = 0; i < obj.getLength(); i += 1) {\n      verts = [];\n      var linestring = obj.getAt(i);\n      for (j = 0; j < linestring.getLength(); j += 1) {\n        vertex = linestring.getAt(j);\n        verts.push({\n          x: vertex.lng(),\n          y: vertex.lat(),\n        });\n      }\n      linestrings.push(verts);\n    }\n    response = {\n      type: 'multilinestring',\n      components: linestrings,\n    };\n    return response;\n  }\n\n  // google.maps.Data.MultiPolygon /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.MultiPolygon) {\n    var polygons = [];\n\n    //console.log('It is a google.maps.Data.MultiPolygon');\n    for (k = 0; k < obj.getLength(); k += 1) {\n      // For each multipolygon\n      var polygon = obj.getAt(k);\n      var rings = [];\n      for (i = 0; i < polygon.getLength(); i += 1) {\n        // For each ring...\n        ring = polygon.getAt(i);\n        var verts = [];\n        for (j = 0; j < ring.getLength(); j += 1) {\n          // For each vertex...\n          vertex = ring.getAt(j);\n          verts.push({\n            x: vertex.lng(),\n            y: vertex.lat(),\n          });\n        }\n        verts.push({\n          x: ring.getAt(0).lng(),\n          y: ring.getAt(0).lat(),\n        });\n\n        rings.push(verts);\n      }\n      polygons.push(rings);\n    }\n\n    response = {\n      type: 'multipolygon',\n      components: polygons,\n    };\n    return response;\n  }\n\n  // google.maps.Data.GeometryCollection /////////////////////////////////////////////////////\n  if (obj.constructor === google.maps.Data.GeometryCollection) {\n    var objects = [];\n    for (k = 0; k < obj.getLength(); k += 1) {\n      // For each multipolygon\n      var object = obj.getAt(k);\n      objects.push(this.deconstruct.call(this, object));\n    }\n    //console.log('It is a google.maps.Data.GeometryCollection', objects);\n    response = {\n      type: 'geometrycollection',\n      components: objects,\n    };\n    return response;\n  }\n\n  // Array ///////////////////////////////////////////////////////////////////\n  if (Wkt.isArray(obj)) {\n    features = [];\n\n    for (i = 0; i < obj.length; i += 1) {\n      features.push(this.deconstruct.call(this, obj[i], true));\n    }\n\n    response = {\n      type: (function () {\n        var k,\n          type = obj[0].constructor;\n\n        for (k = 0; k < obj.length; k += 1) {\n          // Check that all items have the same constructor as the first item\n          if (obj[k].constructor !== type) {\n            // If they don't, type is heterogeneous geometry collection\n            return 'geometrycollection';\n          }\n        }\n\n        switch (type) {\n          case google.maps.Marker:\n            return 'multipoint';\n          case google.maps.Polyline:\n            return 'multilinestring';\n          case google.maps.Polygon:\n            return 'multipolygon';\n          default:\n            return 'geometrycollection';\n        }\n      })(),\n      components: (function () {\n        // Pluck the components from each Wkt\n        var i, comps;\n\n        comps = [];\n        for (i = 0; i < features.length; i += 1) {\n          if (features[i].components) {\n            comps.push(features[i].components);\n          }\n        }\n\n        return {\n          comps: comps,\n        };\n      })(),\n    };\n    response.components = response.components.comps;\n    return response;\n  }\n\n  console.log('The passed object does not have any recognizable properties.');\n};\n\nexport {Wkt};\nexport function Wicket() {\n  return new Wkt.Wkt();\n}\n\nexport function WKT2Object(WKT) {\n  var wkt = new Wkt.Wkt();\n  try {\n    wkt.read(WKT);\n  } catch (e) {\n    console.zlog('Imposible leer geometría', WKT);\n    return false;\n  }\n  try {\n    var obj = wkt.toObject({\n      reverseInnerPolygons: true,\n    }); // Make an object\n    obj.wkt = wkt;\n    return obj;\n  } catch (e) {\n    console.warn('Imposible exportar geometría', WKT);\n    return false;\n  }\n}\n","import $ from 'jquery';\n\nvar jqContainerLoading = null,\n  removeEvent = null;\nvar preloaderFN = function (id_selector) {\n  var preloader = $('<div class=\"preloader\">'),\n    loading = $('<div class=\"preloader-wrapper big active\" id=\"loading\">'),\n    spinnerlayer = $('<div class=\"spinner-layer spinner-blue-only\">')\n      .append(\n        '<div class=\"circle-clipper left\"><div class=\"circle\"></div></div>'\n      )\n      .append('<div class=\"gap-patch\"><div class=\"circle\"></div></div>')\n      .append('<div class=\"circle-clipper right\"><div class=\"circle\"></div>')\n      .appendTo(loading);\n\n  preloader.append(loading).append('<div id=\"preload_text\">');\n  preloader.attr('id', id_selector.replace('#', ''));\n  return preloader;\n};\n/**\n * Muestra un div con una animación de \"cargando\"\n * @param  {integer} timeout   segundos de timeout o un flag (0,1,2)\n * @param  {string} message mensaje a desplegar\n * @param  {string} container  selector CSS del contenedor\n * @return {void}\n */\nexport function loadingcircle(timeout, message, container) {\n  var theGlobalvars = window.globalvars || {};\n  theGlobalvars.containerIds = theGlobalvars.containerIds || {};\n\n  var loadingcircleId =\n    theGlobalvars.containerIds.loadingcircleId || '#preloader';\n  jqContainerLoading = jqContainerLoading || $(loadingcircleId);\n\n  message = message || '';\n\n  if (jqContainerLoading.length === 0) {\n    jqContainerLoading = preloaderFN(loadingcircleId);\n  }\n\n  var removeContainer = function removeContainer(delay) {\n    return window.setTimeout(function () {\n      jqContainerLoading.addClass('animated fadeOut');\n      window.setTimeout(function () {\n        jqContainerLoading.detach();\n        var garbagedivs = $('body').find(loadingcircleId);\n        garbagedivs.detach();\n      }, 1000);\n    }, delay);\n  };\n  if (removeEvent) {\n    //console.log('clearTimeout', removeEvent);\n    window.clearTimeout(removeEvent);\n  } else {\n    //console.log('no remove event detected');\n  }\n\n  jqContainerLoading.attr('class', 'preloader');\n\n  if (timeout === 0) {\n    removeEvent = removeContainer(500);\n  } else {\n    if (container) {\n      jqContainerLoading.addClass('preloader_padding_container');\n    } else {\n      jqContainerLoading.addClass('preloader_padding');\n      container = 'body';\n    }\n    $(container).append(jqContainerLoading);\n    $('#preload_text').html(message);\n\n    if (timeout >= 2) {\n      timeout = Math.max(timeout, 1000);\n      removeEvent = removeContainer(timeout);\n    }\n  }\n  return jqContainerLoading;\n}\n","export var colorset = {\n  polygon_mycolor: {\n    rows: 4,\n    cols: 9,\n    subThemeColors: [\n      'f2f2f2',\n      'ddd9c3',\n      'c6d9f0',\n      'dbe5f1',\n      'f2dcdb',\n      'ebf1dd',\n      'e5e0ec',\n      'dbeef3',\n      'fdeada',\n      'd8d8d8',\n      'c4bd97',\n      '8db3e2',\n      'b8cce4',\n      'e5b9b7',\n      'd7e3bc',\n      'ccc1d9',\n      'b7dde8',\n      'fbd5b5',\n      'bfbfbf',\n      '938953',\n      '548dd4',\n      '95b3d7',\n      'd99694',\n      'c3d69b',\n      'b2a2c7',\n      '92cddc',\n      'fac08f',\n      'a5a5a5',\n      '494429',\n      '17365d',\n      '366092',\n      '953734',\n      '76923c',\n      '5f497a',\n      '31859b',\n      'e36c09',\n      '7f7f7f',\n      '1d1b10',\n      '0f243e',\n      '244061',\n      '632423',\n      '4f6128',\n      '3f3151',\n      '205867',\n      '974806',\n    ],\n  },\n  marker_mycolor: {\n    rows: 4,\n    cols: 8,\n    subThemeColors: [\n      '000099',\n      '990099',\n      '990000',\n      'FF3300',\n      '333300',\n      '006600',\n      '006666',\n      '666666',\n      '0000CC',\n      'CC00CC',\n      'CC0000',\n      'FF6600',\n      '666600',\n      '66BB66',\n      '009999',\n      '999999',\n      '0000FF',\n      'AA88CC',\n      'FF0000',\n      'FF9900',\n      'CCCC00',\n      '00CC00',\n      '00CCCC',\n      'CCCCCC',\n      '5599CC',\n      'CCBBDD',\n      'FFAAAA',\n      'FFCC99',\n      'FFFF00',\n      'AAEEAA',\n      '00FFFF',\n      'CCDDEE',\n    ],\n  },\n  gradient_mycolor: {\n    rows: 6,\n    cols: 8,\n    subThemeColors: [\n      [\n        'brown',\n        [\n          'hsla(50,48%,41%,0.1)',\n          'hsla(64,60%,82%,0.7)',\n          'hsla(62,60%,80%,0.8)',\n          'hsla(60,60%,78%,0.9)',\n          'hsl(58,60%,76%)',\n          'hsl(56,60%,74%)',\n          'hsl(54,60%,72%)',\n          'hsl(52,60%,70%)',\n          'hsl(49,60%,68%)',\n          'hsl(46,60%,66%)',\n          'hsl(43,60%,64%)',\n          'hsl(40,60%,62%)',\n          'hsl(37,60%,60%)',\n          'hsl(34,60%,58%)',\n          'hsl(31,61%,56%)',\n          'hsl(28,62%,54%)',\n          'hsl(25,63%,52%)',\n          'hsl(22,64%,50%)',\n          'hsl(19,65%,48%)',\n          'hsl(16,66%,46%)',\n          'hsl(13,67%,44%)',\n          'hsl(10,68%,42%)',\n          'hsl(7,69%,40%)',\n          'hsl(4,70%,38%)',\n          'hsl(1,71%,36%)',\n          'hsl(358,72%,34%)',\n          'hsl(355,73%,32%)',\n          'hsl(352,74%,30%)',\n          'hsl(349,75%,28%)',\n          'hsl(346,76%,26%)',\n          'hsl(343,77%,24%)',\n        ],\n      ],\n\n      [\n        'green',\n        [\n          'hsla(50,48%,41%,0.1)',\n          'hsla(50,60%,82%,0.7)',\n          'hsla(53,60%,80%,0.8)',\n          'hsla(56,60%,78%,0.9)',\n          'hsl(59,60%,76%)',\n          'hsl(62,60%,74%)',\n          'hsl(65,60%,72%)',\n          'hsl(68,60%,70%)',\n          'hsl(71,60%,68%)',\n          'hsl(74,60%,66%)',\n          'hsl(77,60%,64%)',\n          'hsl(80,60%,62%)',\n          'hsl(83,60%,60%)',\n          'hsl(86,60%,58%)',\n          'hsl(89,61%,56%)',\n          'hsl(92,62%,54%)',\n          'hsl(95,63%,52%)',\n          'hsl(98,64%,50%)',\n          'hsl(101,65%,48%)',\n          'hsl(104,66%,46%)',\n          'hsl(106,67%,44%)',\n          'hsl(108,68%,42%)',\n          'hsl(110,69%,40%)',\n          'hsl(112,70%,38%)',\n          'hsl(114,71%,36%)',\n          'hsl(116,72%,34%)',\n          'hsl(118,73%,32%)',\n          'hsl(120,74%,30%)',\n          'hsl(122,75%,28%)',\n          'hsl(124,76%,26%)',\n          'hsl(126,77%,24%)',\n        ],\n      ],\n      [\n        'blue',\n        [\n          'hsla(260,8%,64%,0.1)',\n          'hsla(185,60%,82%,0.7)',\n          'hsla(186,60%,80%,0.8)',\n          'hsla(187,60%,78%,0.9)',\n          'hsl(188,60%,76%)',\n          'hsl(189,60%,74%)',\n          'hsl(190,60%,72%)',\n          'hsl(191,60%,70%)',\n          'hsl(192,60%,68%)',\n          'hsl(193,60%,66%)',\n          'hsl(194,60%,64%)',\n          'hsl(195,60%,62%)',\n          'hsl(196,60%,60%)',\n          'hsl(197,60%,58%)',\n          'hsl(198,61%,56%)',\n          'hsl(199,62%,54%)',\n          'hsl(200,63%,52%)',\n          'hsl(201,64%,50%)',\n          'hsl(202,65%,48%)',\n          'hsl(203,66%,46%)',\n          'hsl(204,67%,44%)',\n          'hsl(205,68%,42%)',\n          'hsl(206,69%,40%)',\n          'hsl(207,70%,38%)',\n          'hsl(208,71%,36%)',\n          'hsl(209,72%,34%)',\n          'hsl(210,73%,32%)',\n          'hsl(211,74%,30%)',\n          'hsl(212,75%,28%)',\n          'hsl(213,76%,26%)',\n          'hsl(214,77%,24%)',\n        ],\n      ],\n\n      [\n        'purple',\n        [\n          'hsla(204,13%,62%,0.1)',\n          'hsla(190,47%,82%,0.7)',\n          'hsla(194,48%,80%,0.8)',\n          'hsla(198,49%,78%,0.9)',\n          'hsl(202,50%,76%)',\n          'hsl(206,51%,74%)',\n          'hsl(210,52%,72%)',\n          'hsl(214,53%,70%)',\n          'hsl(218,54%,68%)',\n          'hsl(222,55%,66%)',\n          'hsl(226,56%,64%)',\n          'hsl(230,57%,62%)',\n          'hsl(234,58%,60%)',\n          'hsl(238,59%,58%)',\n          'hsl(242,61%,56%)',\n          'hsl(246,62%,54%)',\n          'hsl(250,63%,52%)',\n          'hsl(254,64%,50%)',\n          'hsl(258,65%,48%)',\n          'hsl(262,66%,46%)',\n          'hsl(266,67%,44%)',\n          'hsl(270,68%,42%)',\n          'hsl(274,69%,40%)',\n          'hsl(278,70%,38%)',\n          'hsl(282,71%,36%)',\n          'hsl(286,72%,34%)',\n          'hsl(290,73%,32%)',\n          'hsl(294,74%,30%)',\n          'hsl(298,75%,28%)',\n          'hsl(302,76%,26%)',\n          'hsl(306,77%,24%)',\n        ],\n      ],\n\n      [\n        'greenred',\n        [\n          'hsla(120,52%,45%,0.1)',\n          'hsla(120,60%,50%,0.7)',\n          'hsla(115,60%,59%,0.8)',\n          'hsla(110,60%,50%,0.9)',\n          'hsl(105,60%,51%)',\n          'hsl(100,60%,52%)',\n          'hsl(95,60%,53%)',\n          'hsl(90,60%,54%)',\n          'hsl(85,60%,55%)',\n          'hsl(80,61%,56%)',\n          'hsl(75,62%,57%)',\n          'hsl(70,63%,58%)',\n          'hsl(67,64%,59%)',\n          'hsl(64,65%,58%)',\n          'hsl(59,65%,56%)',\n          'hsl(56,65%,54%)',\n          'hsl(53,65%,52%)',\n          'hsl(50,65%,50%)',\n          'hsl(47,65%,50%)',\n          'hsl(44,66%,50%)',\n          'hsl(41,67%,50%)',\n          'hsl(38,68%,50%)',\n          'hsl(35,69%,50%)',\n          'hsl(32,70%,50%)',\n          'hsl(28,71%,50%)',\n          'hsl(24,72%,50%)',\n          'hsl(20,73%,50%)',\n          'hsl(16,74%,50%)',\n          'hsl(12,75%,50%)',\n          'hsl(8,76%,50%)',\n          'hsl(0,77%,50%)',\n        ],\n      ],\n\n      [\n        'divergent',\n        [\n          'hsla(120,52%,45%,0.1)',\n          'hsl(12,70%,50%)',\n          'hsl(24,70%,50%)',\n          'hsl(36,70%,50%)',\n          'hsl(48,70%,50%)',\n          'hsl(60,70%,50%)',\n          'hsl(72,70%,50%)',\n          'hsl(84,70%,50%)',\n          'hsl(96,70%,50%)',\n          'hsl(108,70%,50%)',\n          'hsl(120,70%,50%)',\n          'hsl(132,70%,50%)',\n          'hsl(144,70%,50%)',\n          'hsl(156,70%,50%)',\n          'hsl(168,70%,50%)',\n          'hsl(180,70%,50%)',\n          'hsl(192,70%,50%)',\n          'hsl(204,70%,50%)',\n          'hsl(216,70%,50%)',\n          'hsl(228,70%,50%)',\n          'hsl(240,70%,50%)',\n          'hsl(252,70%,50%)',\n          'hsl(264,70%,50%)',\n          'hsl(276,70%,50%)',\n          'hsl(288,70%,50%)',\n          'hsl(300,70%,50%)',\n          'hsl(312,70%,50%)',\n          'hsl(324,70%,50%)',\n          'hsl(336,70%,50%)',\n          'hsl(348,70%,50%)',\n          'hsl(0,70%,50%)',\n        ],\n      ],\n      [\n        'venta',\n        [\n          'rgba(233,255,233,0.1)',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FFDB14',\n          '#FFDB14',\n          '#FFDB14',\n          '#FFDB14',\n          '#FFDB14',\n          '#FFDB14',\n          '#FFDB14',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n        ],\n      ],\n\n      [\n        'stock',\n        [\n          'rgba(233,255,233,0.1)',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n        ],\n      ],\n    ],\n    RGBColors: [\n      [\n        'brown',\n        [\n          'rgba(155,155,55,0.1)',\n          'rgba(255,255,204,0.6)',\n          'rgba(255,255,204,0.6)',\n          'rgb(255,237,160)',\n          'rgb(254,217,118)',\n          'rgb(254,217,118)',\n          'rgb(254,178,76)',\n          'rgb(254,178,76)',\n          'rgb(253,141,60)',\n          'rgb(253,141,60)',\n          'rgb(252,78,42)',\n          'rgb(252,78,42)',\n          'rgb(227,26,28)',\n          'rgb(227,26,28)',\n          'rgb(177,0,38)',\n          'rgb(177,0,38)',\n        ],\n      ],\n      [\n        'green',\n        [\n          'rgba(155,155,55,0.1)',\n          'rgba(247,252,245,0.6)',\n          'rgba(247,252,245,0.6)',\n          'rgba(229,245,224,0.7)',\n          'rgba(199,233,192,0.8)',\n          'rgba(199,233,192,0.8)',\n          'rgba(161,217,155,0.9)',\n          'rgba(161,217,155,0.9)',\n          'rgb(116,196,118)',\n          'rgb(116,196,118)',\n          'rgb(65,171,93)',\n          'rgb(65,171,93)',\n          'rgb(35,139,69)',\n          'rgb(35,139,69)',\n          'rgb(0,90,50)',\n          'rgb(0,90,50)',\n        ],\n      ],\n      [\n        'blue',\n        [\n          'rgba(160,155,170,0.1)',\n          'rgba(247,251,255,0.6)',\n          'rgba(247,251,255,0.6)',\n          'rgb(222,235,247)',\n          'rgb(198,219,239)',\n          'rgb(198,219,239)',\n          'rgb(158,202,225)',\n          'rgb(158,202,225)',\n          'rgb(107,174,214)',\n          'rgb(107,174,214)',\n          'rgb(66,146,198)',\n          'rgb(66,146,198)',\n          'rgb(33,113,181)',\n          'rgb(33,113,181)',\n          'rgb(8,69,148)',\n          'rgb(8,69,148)',\n        ],\n      ],\n      [\n        'purple',\n        [\n          'rgba(145,160,170,0.1)',\n          'rgba(247,252,253,0.6)',\n          'rgba(247,252,253,0.6)',\n          'rgb(224,236,244)',\n          'rgb(191,211,230)',\n          'rgb(191,211,230)',\n          'rgb(158,188,218)',\n          'rgb(158,188,218)',\n          'rgb(140,150,198)',\n          'rgb(140,150,198)',\n          'rgb(140,107,177)',\n          'rgb(140,107,177)',\n          'rgb(136,65,157)',\n          'rgb(136,65,157)',\n          'rgb(110,1,107)',\n          'rgb(110,1,107)',\n        ],\n      ],\n      [\n        'greenred',\n        [\n          'rgba(55,175,55,0.1)',\n          'rgba(224,255,224,0.6)',\n          'rgba(224,255,224,0.6)',\n          'rgba(166,217,106,0.7)',\n          'rgba(217,239,139,0.8)',\n          'rgba(217,239,139,0.8)',\n          'rgba(246,246,102,0.9)',\n          'rgba(246,246,102,0.9)',\n          'rgba(254,224,139,1)',\n          'rgba(254,224,139,1)',\n          'rgba(253,174,97,1)',\n          'rgba(253,174,97,1)',\n          'rgba(244,109,67,1)',\n          'rgba(244,109,67,1)',\n          'rgba(227,40,39,1)',\n          'rgba(227,40,39,1)',\n        ],\n      ],\n      [\n        'divergent',\n        [\n          'rgba(200,155,133,0.1)',\n          'rgba(178,24,43,0.6)',\n          'rgba(178,24,43,0.6)',\n          'rgb(214,96,77)',\n          'rgb(244,165,130)',\n          'rgb(244,165,130)',\n          'rgb(253,219,199)',\n          'rgb(253,219,199)',\n          'rgb(209,229,240)',\n          'rgb(209,229,240)',\n          'rgb(146,197,222)',\n          'rgb(146,197,222)',\n          'rgb(67,147,195)',\n          'rgb(67,147,195)',\n          'rgb(33,102,172)',\n          'rgb(33,102,172)',\n        ],\n      ],\n      [\n        'venta',\n        [\n          'rgba(233,255,233,0.1)',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FFDB14',\n          '#FFDB14',\n          '#FFDB14',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n        ],\n      ],\n      [\n        'stock',\n        [\n          'rgba(233,255,233,0.1)',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#FF0000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#008000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n          '#7C0000',\n        ],\n      ],\n    ],\n  },\n  filter_mycolor: {\n    rows: 4,\n    cols: 8,\n    subThemeColors: [\n      '000066',\n      '660066',\n      '660000',\n      'CC3300',\n      '666600',\n      '006600',\n      '006666',\n      '333333',\n      '000099',\n      '990099',\n      '990000',\n      'FF3300',\n      '999900',\n      '009900',\n      '009999',\n      '666666',\n      '0000CC',\n      'CC00CC',\n      'CC0000',\n      'FF6600',\n      'CCCC00',\n      '00CC00',\n      '00CCCC',\n      '999999',\n      '0000FF',\n      'FF00FF',\n      'FF0000',\n      'FF9900',\n      'FFFF00',\n      '00FF00',\n      '00FFFF',\n      'CCCCCC',\n    ],\n  },\n};\n","import $ from 'jquery';\n\nexport {CollectionUtils} from './collection_helper.js';\n\nimport {MarkerFactory as ButtonFactory} from 'ig_markerfactory';\n\nimport {Wkt, Wicket, WKT2Object} from './wicket_helper.js';\nimport {loadingcircle} from './loadingcircle.js';\nimport {colorset} from './colorset.js';\n\nvar root =\n  (typeof self == 'object' && self.self === self && self) ||\n  (typeof global == 'object' && global.global === global && global);\n\n/**\n * Sets the modal class.\n *\n * @param      {string}    cls      The cls\n * @param      {<type>}    options  The options\n * @return     {Function}  { description_of_the_return_value }\n */\nfunction setModalClass(cls, options) {\n  options = options || {\n    footer: true,\n  };\n  var modal = $('#dialogomodal'),\n    modal_body = $('.modal-body'),\n    modal_footer = $('.modal-footer');\n\n  modal.attr('style', '');\n  modal.attr('class', cls + ' modal');\n  modal_body.attr('style', '');\n\n  if (options.footer === false) {\n    modal_footer.addClass('invisible');\n  } else {\n    modal_footer.removeClass('invisible');\n  }\n\n  return modal;\n}\n\n/**\n * Determines if array.\n *\n * @param      {<type>}   obj     The object\n * @return     {boolean}  True if array, False otherwise.\n */\nfunction isArray(obj) {\n  return Object.prototype.toString.call(obj) === '[object Array]';\n}\n\nfunction spaceString(str) {\n  var cleanstr = String(str).replace(/[_]/g, ' ');\n  return cleanstr;\n}\n\n/**\n * Method for cleaning special chars\n * @param  {String} str   source string\n * @param  {Boolean} strict if true, will replace even underscores\n * @return {String}        Clean string\n */\nfunction cleanString(str, strict) {\n  var cleanstr = String(str).replace(/[,.\\-& ]/g, '_');\n  if (strict) {\n    cleanstr = cleanstr.replace(/[_-]/g, '').toLowerCase();\n  }\n  cleanstr = cleanstr.replace(/[ÀÁÂÃÄÅ]/g, 'A');\n  cleanstr = cleanstr.replace(/[àáâãäå]/g, 'a');\n  cleanstr = cleanstr.replace(/[ÈÉÊË]/g, 'E');\n  cleanstr = cleanstr.replace(/[é]/g, 'e');\n  cleanstr = cleanstr.replace(/[Í]/g, 'I');\n  cleanstr = cleanstr.replace(/[í]/g, 'i');\n  cleanstr = cleanstr.replace(/[Ó]/g, 'O');\n  cleanstr = cleanstr.replace(/(ó|ó)/g, 'o');\n  cleanstr = cleanstr.replace(/[Ú]/g, 'U');\n  cleanstr = cleanstr.replace(/[ú]/g, 'u');\n  cleanstr = cleanstr.replace(/[Ñ]/g, 'N');\n  cleanstr = cleanstr.replace(/[ñ]/g, 'n');\n  cleanstr = cleanstr.replace(/(__)+/g, '_');\n\n  cleanstr = cleanstr.replace(/\\'/g, '');\n  return cleanstr;\n}\n\n/**\n * { function_description }\n *\n * @param      {number}  limit   The limit\n * @return     {string}  { description_of_the_return_value }\n */\nfunction randomname(limit) {\n  limit = limit || 5;\n  var text = '';\n  var possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < limit; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n\n  return text;\n}\n/**\n * Gets the cookie.\n *\n * @param      {string}    name    The name\n * @return     {Function}  The cookie.\n */\nfunction getCookie(name) {\n  var match = root.document.cookie.match(new RegExp(name + '=([^;]+)'));\n  if (match) {\n    return match[1];\n  }\n}\nexport {\n  ButtonFactory,\n  Wkt,\n  Wicket,\n  WKT2Object,\n  loadingcircle,\n  colorset,\n  setModalClass,\n  isArray,\n  spaceString,\n  cleanString,\n  randomname,\n  getCookie,\n};\nexport default {\n  ButtonFactory: ButtonFactory,\n  Wkt: Wkt,\n  Wicket: Wicket,\n  WKT2Object: WKT2Object,\n  loadingcircle: loadingcircle,\n  colorset: colorset,\n  setModalClass: setModalClass,\n  isArray: isArray,\n  spaceString: spaceString,\n  cleanString: cleanString,\n  randomname: randomname,\n  getCookie: getCookie,\n};\n"],"names":["CollectionUtils","DataSet","this","type","category","blacklistedfields","hslaString","hslcolor","undefined","a","h","s","l","parseFloat","rgbaString","hexcolor","r","g","b","parseHalf","foo","parseInt","compact","array","index","length","resIndex","result","value","omit","obj","fn","target","i","Object","prototype","hasOwnProperty","call","IconObject","url","fillColor","markerOpts","assign","window","google","maps","origin","Point","x","y","anchor","size","Size","width","height","scaledSize","addGeometricBoundaries","element","html","domid","globalvars","mapModel","Polygons","each","Polygon","_","template","attributes","findFields","callback","elemento","Promise","resolve","reject","finalkeys","fieldsFound","fields","isEmpty","uniq","flatten","map","getArray","item","properties","getProperties","keys","chain","reduce","memo","propiedad","label","Model","columns","column","get","findQualityFields","qualityfilters","propiedadObj","arraypropiedad","registros_numericos","registros_totales","data","backend_grouped","filter","Number","groupBy","c","d","name","count","console","zwarn","findQuantityFields","quantityfilters","min","max","localmin","localmax","Math","discriminateFields","toJSON","serialized","prop","indexOf","parseHex","hexstring","opacity","darkenfactor","hex","replace","isNaN","substring","strokeColor","join","rgb","parseHSL","hslstring","hslcolor_stroke","hslparts","split","hsl","parseRGB","rgbstring","rgbcolor","rgbparts","hue2rgb","p","q","t","getColors","options","deccolor","color0","color1","stringcolor","parsedcolor","val","range","floor","color","factor","darkercolor","darken","padHex","str_in","String","MarkerFactory","createTransparentMarkerIcon","theoptions","scale","fontsize","markerCanvas","canvas","document","createElement","context","getContext","font","clearRect","colors","beginPath","textBaseline","textmetric","measureText","unicodelabel","text_x","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","fillStyle","fillText","strokeStyle","strokeText","generateTransparentCanvas","toDataURL","createFatMarkerIcon","grad","createLinearGradient","anchorX","anchorY","addColorStop","moveTo","arc","PI","lineTo","fill","stroke","radius","textWidth","label_x","label_y","generateFatCanvas","createTextMarker","ancho","cx","cy","rect","generateCanvas","createClusterIcon","labelvalue","setLineDash","lineWidth","generateClusterCanvas","createGroupedIcon","generateGroupedCanvas","readCache","cacheKey","no_cache","cached","sessionStorage","getItem","cachedObj","JSON","parse","key","setCache","iconObj","setItem","stringify","generateAutoicon","generatorFN","is_icon","shadow","transparent_background","cleanOptions","sortedOpts","entries","sort","serializeOptions","parseColorString","somecolor","original","in_r","in_g","in_b","in_a","sum","diff","round","rgbToHSL","hslToRGB","rgba","hsla","toString","autoIcon","warn","slice","fromCharCode","Wkt","_wrapped","Wicket","WKT2Object","WKT","wkt","read","e","zlog","toObject","reverseInnerPolygons","delimiter","isArray","constructor","Array","trim","str","sub","beginsWith","endsWith","initializer","wrapVertices","regExes","typeStr","spaces","numeric","comma","parenComma","coord","doubleParenComma","trimParens","ogcTypes","crudeJson","components","fromObject","isCollection","sameCoords","fromJson","deconstruct","isRectangle","config","construct","write","j","k","coords","iring","oring","toLowerCase","geometry","coordinates","push","toJson","ring","rings","cs","json","exec","toUpperCase","bbox","concat","merge","prefix","TypeError","matches","base","ingest","apply","test","log","message","pieces","extract","point","multipoint","parts","linestring","multilinestring","polygon","multipolygon","box","geometrycollection","points","multipoints","line","lines","subcomponents","x_cord","y_cord","n","polygons","component","position","LatLng","Marker","arr","editable","path","Polyline","bounds","LatLngBounds","Rectangle","verts","paths","area","polygonIsClockwise","reverse","v","extend","multiFlag","features","sign","tmp","response","vertex","linestrings","areas","spherical","computeSignedArea","lng","lat","getPosition","getPath","getAt","getPaths","abs","lastIndexOf","equals","Circle","getCenter","getRadius","d2r","rlat","rlng","cos","theta","sin","getSouthWest","getNorthEast","getBounds","Data","Feature","getGeometry","LineString","getLength","MultiPoint","MultiLineString","MultiPolygon","GeometryCollection","objects","object","comps","jqContainerLoading","removeEvent","loadingcircle","timeout","container","theGlobalvars","containerIds","loadingcircleId","$","id_selector","preloader","loading","append","appendTo","attr","preloaderFN","removeContainer","delay","setTimeout","addClass","detach","find","clearTimeout","colorset","polygon_mycolor","rows","cols","subThemeColors","marker_mycolor","gradient_mycolor","RGBColors","filter_mycolor","root","self","global","setModalClass","cls","footer","modal","modal_body","modal_footer","removeClass","spaceString","cleanString","strict","cleanstr","randomname","limit","text","possible","charAt","random","getCookie","match","cookie","RegExp","ButtonFactory"],"mappings":"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eAAgB,CACd,CACE,QACA,CACE,uBACA,uBACA,uBACA,uBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,qBAIJ,CACE,QACA,CACE,uBACA,uBACA,uBACA,uBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,qBAGJ,CACE,OACA,CACE,uBACA,wBACA,wBACA,wBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,qBAIJ,CACE,SACA,CACE,wBACA,wBACA,wBACA,wBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,qBAIJ,CACE,WACA,CACE,wBACA,wBACA,wBACA,wBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,iBACA,mBAIJ,CACE,YACA,CACE,wBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBAGJ,CACE,QACA,CACE,wBACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAIJ,CACE,QACA,CACE,wBACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,aAING,UAAW,CACT,CACE,QACA,CACE,uBACA,wBACA,wBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,iBACA,iBACA,iBACA,iBACA,gBACA,kBAGJ,CACE,QACA,CACE,uBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,mBACA,mBACA,iBACA,iBACA,iBACA,iBACA,eACA,iBAGJ,CACE,OACA,CACE,wBACA,wBACA,wBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,kBACA,gBACA,kBAGJ,CACE,SACA,CACE,wBACA,wBACA,wBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,mBAGJ,CACE,WACA,CACE,sBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,sBACA,sBACA,qBACA,qBACA,qBACA,qBACA,oBACA,sBAGJ,CACE,YACA,CACE,wBACA,sBACA,sBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,oBAGJ,CACE,QACA,CACE,wBACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YAGJ,CACE,QACA,CACE,wBACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,cAKRC,eAAgB,CACdN,KAAM,EACNC,KAAM,EACNC,eAAgB,CACd,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,YCxkBFK,KACc,iBAARC,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAVC,QAAsBA,OAAOA,SAAWA,QAAUA,OAS5D,SAASC,cAAcC,IAAKnT,SAC1BA,QAAUA,SAAW,CACnBoT,QAAQ,GAEV,IAAIC,MAAQ9B,EAAE,iBACZ+B,WAAa/B,EAAE,eACfgC,aAAehC,EAAE,iBAYnB,OAVA8B,MAAMxB,KAAK,QAAS,IACpBwB,MAAMxB,KAAK,QAASsB,IAAM,UAC1BG,WAAWzB,KAAK,QAAS,KAEF,IAAnB7R,QAAQoT,OACVG,aAAarB,SAAS,aAEtBqB,aAAaC,YAAY,aAGpBH,MAST,SAASlL,QAAQ3P,KACf,MAA+C,mBAAxCI,OAAOC,UAAUqO,SAASnO,KAAKP,KAGxC,SAASib,YAAYlL,KAEnB,OADexH,OAAOwH,KAAK5J,QAAQ,OAAQ,KAU7C,SAAS+U,YAAYnL,IAAKoL,QACxB,IAAIC,SAAW7S,OAAOwH,KAAK5J,QAAQ,YAAa,KAmBhD,OAlBIgV,SACFC,SAAWA,SAASjV,QAAQ,QAAS,IAAI4L,eAgB3CqJ,UAFAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,UADAA,SAAWA,SAASjV,QAAQ,YAAa,MACrBA,QAAQ,YAAa,MACrBA,QAAQ,UAAW,MACnBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,UAAW,MACnBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,MAChBA,QAAQ,SAAU,MAElBA,QAAQ,MAAO,IAUrC,SAASkV,WAAWC,OAClBA,MAAQA,OAAS,EAKjB,IAJA,IAAIC,KAAO,GACPC,SACF,iEAEOrb,EAAI,EAAGA,EAAImb,MAAOnb,IACzBob,MAAQC,SAASC,OAAOjW,KAAKwC,MAAMxC,KAAKkW,SAAWF,SAAS7b,SAG9D,OAAO4b,KAQT,SAASI,UAAU7W,MACjB,IAAI8W,MAAQrB,KAAKxR,SAAS8S,OAAOD,MAAM,IAAIE,OAAOhX,KAAO,aACzD,GAAI8W,MACF,OAAOA,MAAM,GAGjB,cAce,CACbG,cAAeA,cACfhN,IAAKA,IACLE,OAAQA,OACRC,WAAYA,WACZuJ,cAAeA,cACfqB,SAAUA,SACVY,cAAeA,cACf/K,QAASA,QACTsL,YAAaA,YACbC,YAAaA,YACbG,WAAYA,WACZM,UAAWA"}