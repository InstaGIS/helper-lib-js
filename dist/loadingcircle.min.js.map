{"version":3,"file":"loadingcircle.min.js","sources":["../src/loadingcircle.js"],"sourcesContent":["import $ from 'jquery';\n\nvar jqContainerLoading = null,\n\tremoveEvent = null;\nvar preloaderFN = function (id_selector) {\n\tvar preloader = $('<div class=\"preloader\">'),\n\t\tloading = $('<div class=\"preloader-wrapper big active\" id=\"loading\">'),\n\t\tspinnerlayer = $('<div class=\"spinner-layer spinner-blue-only\">')\n\t\t.append('<div class=\"circle-clipper left\"><div class=\"circle\"></div></div>')\n\t\t.append('<div class=\"gap-patch\"><div class=\"circle\"></div></div>')\n\t\t.append('<div class=\"circle-clipper right\"><div class=\"circle\"></div>')\n\t\t.appendTo(loading);\n\n\tpreloader.append(loading).append('<div id=\"preload_text\">');\n\tpreloader.attr('id', id_selector.replace('#', ''));\n\treturn preloader;\n};\n/**\n * Muestra un div con una animaciÃ³n de \"cargando\"\n * @param  {integer} timeout   segundos de timeout o un flag (0,1,2)\n * @param  {string} message mensaje a desplegar\n * @param  {string} container  selector CSS del contenedor\n * @return {void}\n */\nexport function loadingcircle(timeout, message, container) {\n\n\tvar theGlobalvars = window.globalvars || {};\n\ttheGlobalvars.containerIds = theGlobalvars.containerIds || {};\n\n\tvar loadingcircleId = theGlobalvars.containerIds.loadingcircleId || '#preloader';\n\tjqContainerLoading = jqContainerLoading || $(loadingcircleId);\n\n\tmessage = message || '';\n\n\tif (jqContainerLoading.length === 0) {\n\t\tjqContainerLoading = preloaderFN(loadingcircleId);\n\t}\n\n\tvar removeContainer = function removeContainer(delay) {\n\n\t\treturn window.setTimeout(function () {\n\t\t\tjqContainerLoading.addClass('animated fadeOut');\n\t\t\twindow.setTimeout(function () {\n\t\t\t\tjqContainerLoading.detach();\n\t\t\t\tvar garbagedivs = $('body').find(loadingcircleId);\n\t\t\t\tgarbagedivs.detach();\n\t\t\t}, 1000);\n\t\t}, delay);\n\t};\n\tif (removeEvent) {\n\t\t//console.log('clearTimeout', removeEvent);\n\t\twindow.clearTimeout(removeEvent);\n\t} else {\n\t\t//console.log('no remove event detected');\n\t}\n\n\tjqContainerLoading.attr('class', 'preloader');\n\n\tif (timeout === 0) {\n\t\tremoveEvent = removeContainer(500);\n\t} else {\n\n\t\tif (container) {\n\t\t\tjqContainerLoading.addClass('preloader_padding_container');\n\t\t} else {\n\t\t\tjqContainerLoading.addClass('preloader_padding');\n\t\t\tcontainer = 'body';\n\t\t}\n\t\t$(container).append(jqContainerLoading);\n\t\t$('#preload_text').html(message);\n\n\t\tif (timeout >= 2) {\n\t\t\ttimeout = Math.max(timeout, 1000);\n\t\t\tremoveEvent = removeContainer(timeout);\n\t\t}\n\t}\n\treturn jqContainerLoading;\n\n}\n"],"names":["jqContainerLoading","removeEvent","preloaderFN","id_selector","preloader","$","loading","append","appendTo","attr","replace","timeout","message","container","theGlobalvars","window","globalvars","containerIds","loadingcircleId","length","removeContainer","delay","setTimeout","addClass","detach","find","clearTimeout","html","Math","max"],"mappings":"iVAEA,IAAIA,mBAAqB,KACxBC,YAAc,KACXC,YAAc,SAAUC,aAC3B,IAAIC,UAAYC,EAAE,2BACjBC,QAAUD,EAAE,2DACGA,EAAE,iDAChBE,OAAO,qEACPA,OAAO,2DACPA,OAAO,gEACPC,SAASF,SAIX,OAFAF,UAAUG,OAAOD,SAASC,OAAO,2BACjCH,UAAUK,KAAK,KAAMN,YAAYO,QAAQ,IAAK,KACvCN,iCASR,SAA8BO,QAASC,QAASC,WAE/C,IAAIC,cAAgBC,OAAOC,eAC3BF,cAAcG,aAAeH,cAAcG,iBAE3C,IAAIC,gBAAkBJ,cAAcG,aAAaC,iBAAmB,aACpElB,mBAAqBA,oBAAsBK,EAAEa,iBAE7CN,QAAUA,SAAW,GAEa,IAA9BZ,mBAAmBmB,SACtBnB,mBAAqBE,YAAYgB,kBAGlC,IAAIE,gBAAkB,SAAyBC,OAE9C,OAAON,OAAOO,WAAW,WACxBtB,mBAAmBuB,SAAS,oBAC5BR,OAAOO,WAAW,WACjBtB,mBAAmBwB,SACDnB,EAAE,QAAQoB,KAAKP,iBACrBM,UACV,MACDH,QA6BJ,OA3BIpB,aAEHc,OAAOW,aAAazB,aAKrBD,mBAAmBS,KAAK,QAAS,aAEjB,IAAZE,QACHV,YAAcmB,gBAAgB,MAG1BP,UACHb,mBAAmBuB,SAAS,gCAE5BvB,mBAAmBuB,SAAS,qBAC5BV,UAAY,QAEbR,EAAEQ,WAAWN,OAAOP,oBACpBK,EAAE,iBAAiBsB,KAAKf,SAEpBD,SAAW,IACdA,QAAUiB,KAAKC,IAAIlB,QAAS,KAC5BV,YAAcmB,gBAAgBT,WAGzBX"}