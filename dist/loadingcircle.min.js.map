{"version":3,"file":"loadingcircle.min.js","sources":["../src/loadingcircle.js"],"sourcesContent":["import $ from 'jquery';\n\nvar jqContainerLoading = null,\n  removeEvent = null;\nvar preloaderFN = function (id_selector) {\n  var preloader = $('<div class=\"preloader\">'),\n    loading = $('<div class=\"preloader-wrapper big active\" id=\"loading\">'),\n    spinnerlayer = $('<div class=\"spinner-layer spinner-blue-only\">')\n      .append(\n        '<div class=\"circle-clipper left\"><div class=\"circle\"></div></div>'\n      )\n      .append('<div class=\"gap-patch\"><div class=\"circle\"></div></div>')\n      .append('<div class=\"circle-clipper right\"><div class=\"circle\"></div>')\n      .appendTo(loading);\n\n  preloader.append(loading).append('<div id=\"preload_text\">');\n  preloader.attr('id', id_selector.replace('#', ''));\n  return preloader;\n};\n/**\n * Muestra un div con una animaciÃ³n de \"cargando\"\n * @param  {integer} timeout   segundos de timeout o un flag (0,1,2)\n * @param  {string} message mensaje a desplegar\n * @param  {string} container  selector CSS del contenedor\n * @return {void}\n */\nexport function loadingcircle(timeout, message, container) {\n  var theGlobalvars = window.globalvars || {};\n  theGlobalvars.containerIds = theGlobalvars.containerIds || {};\n\n  var loadingcircleId =\n    theGlobalvars.containerIds.loadingcircleId || '#preloader';\n  jqContainerLoading = jqContainerLoading || $(loadingcircleId);\n\n  message = message || '';\n\n  if (jqContainerLoading.length === 0) {\n    jqContainerLoading = preloaderFN(loadingcircleId);\n  }\n\n  var removeContainer = function removeContainer(delay) {\n    return window.setTimeout(function () {\n      jqContainerLoading.addClass('animated fadeOut');\n      window.setTimeout(function () {\n        jqContainerLoading.detach();\n        var garbagedivs = $('body').find(loadingcircleId);\n        garbagedivs.detach();\n      }, 1000);\n    }, delay);\n  };\n  if (removeEvent) {\n    //console.log('clearTimeout', removeEvent);\n    window.clearTimeout(removeEvent);\n  } else {\n    //console.log('no remove event detected');\n  }\n\n  jqContainerLoading.attr('class', 'preloader');\n\n  if (timeout === 0) {\n    removeEvent = removeContainer(500);\n  } else {\n    if (container) {\n      jqContainerLoading.addClass('preloader_padding_container');\n    } else {\n      jqContainerLoading.addClass('preloader_padding');\n      container = 'body';\n    }\n    $(container).append(jqContainerLoading);\n    $('#preload_text').html(message);\n\n    if (timeout >= 2) {\n      timeout = Math.max(timeout, 1000);\n      removeEvent = removeContainer(timeout);\n    }\n  }\n  return jqContainerLoading;\n}\n"],"names":["jqContainerLoading","removeEvent","timeout","message","container","theGlobalvars","window","globalvars","containerIds","loadingcircleId","$","length","id_selector","preloader","loading","append","appendTo","attr","replace","preloaderFN","removeContainer","delay","setTimeout","addClass","detach","find","clearTimeout","html","Math","max"],"mappings":"iVAEA,IAAIA,mBAAqB,KACvBC,YAAc,2BAuBhB,SAA8BC,QAASC,QAASC,WAC9C,IAAIC,cAAgBC,OAAOC,YAAc,GACzCF,cAAcG,aAAeH,cAAcG,cAAgB,GAE3D,IAAIC,gBACFJ,cAAcG,aAAaC,iBAAmB,aAGhDN,QAAUA,SAAW,GAEa,KAJlCH,mBAAqBA,oBAAsBU,EAAED,kBAItBE,SACrBX,mBAjCc,SAAUY,aAC1B,IAAIC,UAAYH,EAAE,2BAChBI,QAAUJ,EAAE,2DACGA,EAAE,iDACdK,OACC,qEAEDA,OAAO,2DACPA,OAAO,gEACPC,SAASF,SAId,OAFAD,UAAUE,OAAOD,SAASC,OAAO,2BACjCF,UAAUI,KAAK,KAAML,YAAYM,QAAQ,IAAK,KACvCL,UAoBgBM,CAAYV,kBAGnC,IAAIW,gBAAkB,SAAyBC,OAC7C,OAAOf,OAAOgB,WAAW,WACvBtB,mBAAmBuB,SAAS,oBAC5BjB,OAAOgB,WAAW,WAChBtB,mBAAmBwB,SACDd,EAAE,QAAQe,KAAKhB,iBACrBe,UACX,MACFH,QA4BL,OA1BIpB,aAEFK,OAAOoB,aAAazB,aAKtBD,mBAAmBiB,KAAK,QAAS,aAEjB,IAAZf,QACFD,YAAcmB,gBAAgB,MAE1BhB,UACFJ,mBAAmBuB,SAAS,gCAE5BvB,mBAAmBuB,SAAS,qBAC5BnB,UAAY,QAEdM,EAAEN,WAAWW,OAAOf,oBACpBU,EAAE,iBAAiBiB,KAAKxB,SAET,GAAXD,UACFA,QAAU0B,KAAKC,IAAI3B,QAAS,KAC5BD,YAAcmB,gBAAgBlB,WAG3BF"}